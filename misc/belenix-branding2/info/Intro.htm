<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>

<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow"><title>Some basic info on BeleniX</title>

<style type="text/css">

/* content styles */
html {
	background-color: white;
	color: black;
	font-family: Arial, Lucida Grande, sans-serif;
	font-size: 1em;
	line-height: 1.25em;
}

/* Headings */
h1 {
	margin: 0;
	padding: 0;
	color: #000025; 
	font-size: 2em;
	font-weight: bold; 
	line-height: 1.2em;
    border-bottom: 3px solid #444400; 
}

h2, h3, h4, h5, h6
{
    margin: 1.5em 0 0 0;
    padding: 2px 0px;
    font-weight: normal; 
    color: #000025; 
    line-height: 1.2em;
}	

h2, h3
{
    border-bottom: 2px solid #000025; 
}

h2 {font-size: 1.6em;}
h3 {font-size: 1.3em;}
h4 {font-size: 1.1em;}
h5, h6 {font-size: 1em;}

li p {
	margin: .25em 0;
}

li.gap {
    margin-top: 0.5em;
}
   
table
{
	margin: 0.5em 0;
	border-collapse: collapse;
}

td
{
	padding: 0.25em;
	border: 1pt solid #000045; 
}

td p {
	margin: 0;
	padding: 0;
}

#align_center {
	text-align: center;
}

#page {
	clear: both;
	background-color: white;
	margin: 0;
	padding: 10px 30px 20px 30px;
}

#footer {
	clear: both;
    margin: 0;
    padding: 0;
    background: #BBBBBB; 
	font-size: 10px;
}
</style>

</head><body>

<ul class="editbar"></ul>

<div id="page" dir="ltr" lang="en">

<h1 id="title">Some basic info on BeleniX</h1>
<div id="content" dir="ltr" lang="en">
<div>
<table style="FONT-SIZE: 0.9em; BACKGROUND: rgb(241,241,237) 0% 50%; FLOAT: right; MARGIN: 10pt 0pt 1em 1em; WIDTH: 40%; moz-background-clip: -moz-initial; moz-background-origin: -moz-initial; moz-background-inline-policy: -moz-initial">
<tbody><tr>
<td style="PADDING-RIGHT: 0.5em; PADDING-LEFT: 0.5em; PADDING-BOTTOM: 0.5em; PADDING-TOP: 0.5em">
<p><strong>Contents</strong><br>
</p><ol>

<li> <A href="#head-Introduction">Introduction</a>
<li> <A href="#head-common-tasks">Common tasks and commands</a>
<ol>
<li><A href="#head-few-useful-commands">Few useful commands</a></li>
</ol>
<li> <A href="#head-starting-desktops">Starting/Quitting GUI desktops on LiveCD</a>
<li> <A href="#head-display-disk-partitions">Displaying disk partitioning info</a>
<li> <A href="#head-installing-belenix">Notes on Installing BeleniX to harddisk</a>
<li> <A href="#head-ip-configuration">Setting up a static IP Address configuration</a>
<ol>
<li><A href="#head-non-Persistent-ip-config">Non-Persistent static IP configuration</a>
<li><A href="#head-Persistent-ip-config">Persistent static IP configuration</a></li>
</ol>
<li> <A href="#head-add-del-users">Adding and Deleting users</a>
<li> <A href="#head-submit-bug-reports">How do I submit bug reports ?</a>
<li> <A href="#head-get-support">Where do I get support ?</a>
<li> <A href="#head-contribute">How do I contribute ?</a></li>
</ol>

</td>
</tr>
</tbody></table>
</div>

<h2 id="head-Introduction">Introduction</h2>

<p></p>

<p></p>
<strong><a href="http://www.belenix.org/">BeleniX</a></strong> is a *NIX distribution that is built using the OpenSolaris source base.
It can be used as LiveCD as well as can be installed onto a hard disk.
<p></p>
It is a free and Opensource Community distribution. You are free to try it, 
modify it, praise it, curse it etc. etc. This is still a very young 
distribution so there will be rough edges. But hey this is OpenSolaris or 
rather the true UNIX legacy, the stuff of Big Iron servers, created more than 
20 years back, booting from a CD on a PC!
<p></p>
You get all the power and features of OpenSolaris packed up in a CD: DTrace 
(the ultimate debugging tool), Zones (OS virtualization), ZFS (the last word in
filesystems), SMF, Crypto framework, Modular Kernel, Backward Compatibility and
Standardization gurantees, CIFS server, Stable Kernel API, Fine grained 
Privileges and so on ...
<p></p>
BeleniX includes more than 650 software packages which includes: Xorg (6.9), 
Xfce, Firefox, Thunderbird, Gaim, Imagmagick, SDL, Cairo, Xmms, Tcl/Tk, Python, 
Vim,  gcc, Perl, Screen, Lynx, Xscreensaver, Midnight Commander, KDE (3.5.8), 
Koffice, GIMP, Mtools, Samba, BerkeleyDB, PostgreSQL, Xerces, Kdevelop, DTrace
Toolkit and so on ...
<p></p>
Want to know more: Just reboot your box and adjust your Bios to boot from the 
CDROM and watch.
<p></p>
You are welcome to participate in this project and help make BeleniX better. 
<p></p>

<h2 id="head-common-tasks">Common tasks and commands</h2>

<p></p>

<h3 id="head-few-useful-commands">Getting additional software</h3>
<br>
Run <code>/usr/bin/get-pkgs</code> to get additional software packages. You must
be connected to the internet for this to work. Running <code>/usr/bin/get-pkgs</code>
without any arguments will fetch the catalog and display available software groups.
Pass the abbreviated name of any software group as an argument to install those
packages.<br>
<p></p>
This is a stop-gap measure till we move to the <a href="http://www.opensolaris.org/os/project/pkg/">Image Packaging System</a> and setup a complete software repository for BeleniX.<br>
<h3 id="head-few-useful-commands">Few useful commands</h3>
<code></code>
<br>   Processor info                  : <code>/usr/sbin/psrinfo -pv</code>
<br>   Architecture info               : <code>/usr/bin/isainfo</code>
<br>   Summary system info             : <code>/usr/sbin/prtdiag</code>
<br>   Disk primary partitions         : <code>/sbin/fdisk /dev/rdsk/c*d*p0</code>
<br>   Detailed hardware info from BIOS: <code>/usr/sbin/smbios</code>
<br>   Detailed Kernel Statistics      : <code>/usr/bin/kstat</code>
<br>       displays summary usage        <code>/usr/bin/kstat -h</code>
<br>       list all modules &amp; stats      <code>/usr/bin/kstat -l</code>
<br>
<br>   Print solaris VTOC table : <code>/usr/sbin/prtvtoc /dev/dsk/c*d*s2</code>
<br>   Accurate measure of free memory
<br>&nbsp;&nbsp;&nbsp;&nbsp;        Login as root
<br>&nbsp;&nbsp;&nbsp;&nbsp;        Execute  <code>/usr/bin/mdb -k</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;        Enter command   <code>::memstat</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;        CTRL+D to come out of mdb
<br><br>
Closer to actual estimate of process memory usage excluding the mmap-ed shared libs. (Look at the total for the 4th column labeled "Anon". Also add in any non-Anon memory usage for the process itself) :
<br>&nbsp;&nbsp;&nbsp;&nbsp;       <code>/usr/bin/pmap -x &lt;pid&gt;</code>
<br>   
<br>   See the function call stack of a running process :
<br>&nbsp;&nbsp;&nbsp;&nbsp;       <code>/usr/bin/pstack &lt;pid&gt;</code>
<br>
<br>   See which libraries a process is using :
<br>&nbsp;&nbsp;&nbsp;&nbsp;      <code>/usr/bin/pldd &lt;pid&gt;</code>
<br>
<br>   See the command line arguments with which the process was started :
<br>&nbsp;&nbsp;&nbsp;&nbsp;      <code>/usr/bin/pargs &lt;pid&gt;</code>
<br>
<br>   See the process hierarchy :
<br>&nbsp;&nbsp;&nbsp;&nbsp;     <code>/usr/bin/ptree &lt;pid&gt;</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;     <code>/usr/bin/ptree 1</code> gives the entire process hierarchy for the system.
<br>
<br>   Change Desktop resolution dynamically -
<br>&nbsp;&nbsp;&nbsp;&nbsp;       Execute  <code>/usr/X11/bin/xrandr</code> to list possible resolutions
<br>&nbsp;&nbsp;&nbsp;&nbsp;       Execute  <code>/usr/X11/bin/xrandr -s &lt;number&gt;</code> to set  the resolution
<br>&nbsp;&nbsp;&nbsp;&nbsp;       In addition Xfce and KDE provide their own stuff for this.
<br>
<br>   Look at network stack parameters
<br>&nbsp;&nbsp;&nbsp;&nbsp;   <code>/usr/sbin/ndd</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;   <code>eg: /usr/sbin/ndd /dev/tcp \?  displays all tcp parameters</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;   <code>Other network devices are: /dev/ip, /dev/udp, /dev/icmp, /dev/ip6</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;   <code>/dev/tcp6, /dev/ipsecah, /dev/ipsecesp, /dev/sctp, /dev/sctp6</code>
<br>
<br>   Set network stack parameters - 
<br>&nbsp;&nbsp;&nbsp;&nbsp;       <code>/usr/sbin/ndd -set &lt;network device&gt; &lt;parameter name&gt; &lt;parameter value&gt;</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;       Only root can do this and be very careful about playing with this.
<br>
<br>   Multiple virtual consoles in Command Line login -
<br>&nbsp;&nbsp;&nbsp;&nbsp;       Use the GNU screen utility  <code>/usr/foss/bin/screen</code> utility. After
<br>&nbsp;&nbsp;&nbsp;&nbsp;       executing screen you can use CTRL-AC to create a new console,
<br>&nbsp;&nbsp;&nbsp;&nbsp;       CTRL-AA to alternate between two consoles, CTRL-A&lt;number&gt; to
<br>&nbsp;&nbsp;&nbsp;&nbsp;       switch to a console with a particular number.

<h2 id="head-starting-desktops">Starting/Quitting GUI desktops on LiveCD</h2>
<p></p>
While booted from the LiveCD you can execute <code>/usr/bin/stopgui</code> from a terminal window to fall back to command line mode. While in command
line mode you can execute  <code>/usr/bin/startgui xfce</code> or <code>/usr/bin/startgui kde</code> to start one of the desktops.

<h2 id="head-display-disk-partitions">Displaying disk partitioning info</h2>
<p></p>
First execute <code>/usr/sbin/format</code> to identify your disk device. Don't worry format is not going to immediately format your disk. Upon executing format you will see output similar to the following:
<code>
<br>AVAILABLE DISK SELECTIONS:
<br>&nbsp;&nbsp;&nbsp;&nbsp;       0. c1d0 &lt;DEFAULT cyl 13002 alt 2 hd 64 sec 63&gt;
<br>&nbsp;&nbsp;&nbsp;&nbsp;          /pci@0,0/pci-ide@11,1/ide@0/cmdk@0,0
<br></code>
<br>

Note down the name after "0. ", in this case it it "c1d0". Now press CTRL+D to quit out of format.
<br>
Now execute <code>/usr/bin/prtpart /dev/rdsk/&lt;devname&gt;p0</code>
<br>So as per our example above the command should look like:
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>/usr/bin/prtpart /dev/rdsk/c1d0p0</code>
<br>
<br>
This will print an indented human readable dump of the entire partition table on the harddisk that includes all your extended partitions.
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>/usr/bin/prtpart -h /dev/rdsk/c1d0p0
<br></code>
<br>
This makes the output more human-readable.
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>/usr/bin/prtpart /dev/rdsk/c1d0p0 -doslabel
<br></code>
<br>
This will print out OpenSolaris device names for all the FAT/FAT32 partitions on the harddisk, whether on primary or extended partition.
If you have booted the LiveCD, these should already be mounted on <code>/mnt/fat0, /mnt/fat1</code> and so on.

<h2 id="head-installing-belenix">Notes on Installing BeleniX to harddisk</h2>
<p></p>
BeleniX 0.7.1 uses a re-branded <a href="http://www.opensolaris.org/os/project/caiman/">Caiman Installer</a> from the <a href="http://www.opensolaris.org/os/project/indiana/">Indiana Project</a>. Clicking the "Install Belenix" icon on the Desktop brings up the Installer.
Note that you will have to "double-click" when in Xfce and "single-click" when in KDE.

<ul>
<li><p> OpenSolaris requires a primary partition. It cannot be installed in an extended partition. There is currently work going on to fix this. For now you need to have a free slot in one of the four primary partitions.</p>
<li><p>The Installation has ZFS as the default filesystem. Worrying about slices is no longer relevant.</p>
<li><p>This version of the Caiman installer installs GRUB as the default bootloader (in MBR). If you have other Windows and Linux OSes installed on the same system then you will need to edit /boot/grub/menu.lst (after installing BeleniX) and add entries to boot the other OSes as well. This will change in a subsequent release to automatically detect other OSes and entries into GRUB's menu.lst.
<br>Future version will also be flexible by providing an option to install GRUB in either the MBR or within the Solaris2 partition.</p>
<li><p>BeleniX uses the K Display Manager (KDM) which should automatically come up when booting from harddisk. The K Display Manager is themeable and also supports dropping down to Command Line Login (unlike GDM) in a way similar to what the legacy DTlogin provided in SUN Solaris.</p>
<li><p>If you already have a Solaris2 partition the Installer will detect this partition.</p>
<li><p>It takes about 30-40 mins to install BeleniX depending on your CDROM speed.</p></li>
</ul>


<h2 id="head-ip-configuration">Setting up a static IP Address configuration</h2>
<p></p>
BeleniX enables NWAM (Network Auto-magic) by default so it should auto-detect your connected network interfaces and configure via DHCP. If you need to configure a static IP then you must first disable NWAM using:

<code>svcadm disable nwam</code>

Then follow these steps to configure static IP (The BeleniX package repository will soon include the JDS GUI tools for network configuration).

<h3 id="head-non-Persistent-ip-config">Non-Persistent static IP configuration</h3>
<p></p>
/sbin/ifconfig may be used in the following way:
<br>&nbsp;&nbsp;&nbsp;&nbsp;
<code>ifconfig &lt;intferface&gt; &lt;ip address&gt; broadcast &lt;bcast address&gt; netmask &lt;net mask&gt;</code> 
<p></p>
In addition <code>/usr/bin/netprof</code> can be used to have network profiles. One needs
to create a profile in <code>/etc/netprof/</code> directory using one of the files as a
template. This is fairly easy to do. Subsequently one needs to execute 
<code>/usr/bin/netprof</code> to select and activate the profile.
<p></p>
But if configuration needs to persist across reboots without having to run 
netprof or ifconfig every time one needs to follow the below procedure.

<h3 id="head-Persistent-ip-config">Persistent static IP configuration:</h3>

<ul>
<li>Select a name for your host and enter it in the /etc/nodename file. This file must have exactly one entry, which is the hostname.

Example:

<code>echo belenix-box-1 &gt; /etc/nodename</code>
<li>
Edit <code>/etc/hosts</code> and add your hostname to ip address mapping. If you are in a domain, you may want to add another entry with the fully qualified domain name as well.

Example:

<code>
<br>127.0.0.1       localhost
<br>192.168.0.150   belenix-box-1 belenix-box-1.yourdomain.com loghost
<br></code>
<br>
<li>
Determine which interface will be connected to the network. Lets assume that your hme0 network interface is connected to the network. Then create a file called <code>/etc/hostname.hme0</code> which contains the hostname as in step (1):

Example:

<code>
 echo belenix-box-1 &gt; /etc/hostname.hme0
</code> 
<li>
Create or edit the <code>/etc/defaultrouter</code> file and enter the IP Address of the default router. This will have been provided to your by your network admin or ISP. Example:

<code>
 echo 192.168.0.1 &gt; /etc/defaultrouter
</code>
<li>
Now you need to setup name resolution. Typically you'll want to use DNS and the list of nameservers will have been provided to you by your network admin or ISP. So you will have to setup <code>/etc/nsswitch.conf</code> and <code>/etc/resolv.conf</code>. Example:

Our example <code>/etc/resolv.conf</code> contains the following lines:

<code>
<br> domain yourdomain.com
<br> search yourdomain.com
<br> nameserver 208.67.222.222
<br> nameserver 208.67.220.220
<br></code>

These details will be different in your case. Execute: <code> /usr/bin/cp /etc/nsswitch.conf.dns /etc/nsswitch.conf</code>
<br>
Now you can reboot and the settings will automatically take effect. You can
also perform the following tests to confirm that everything is fine:
<code>
<br>   $ ping &lt;your_gateway&gt;
<br>   $ ping &lt;a_machine_on_your_local_network&gt;
<br>   $ ping &lt;your_nameservers&gt;
<br>   $ ping &lt;a_well-known_host, like www.yahoo.com&gt;
<br></code>
You can also activate the configuration without rebooting. After doing the above 6 steps execute an ifconfig command as mentioned in the beginning to
directly configure the IP address on the network interface. Then execute <code>"svcadm enable dns/client"</code> and things should begin to work. Later versions
of BeleniX is expected to contain a Network configurtion UI to avoid having to manually perform these steps.

<p></p>
Example:
<ul>
<li>Perform steps 1 - 5
<li>Execute:<br>
      <code>/sbin/ifconfig hme0 192.168.0.150 broadcast 192.168.0.255 netmask 255.255.255.0</code>
<li>Add default route:<br>
      <code>/sbin/route add default 192.168.0.1 &lt;-</code> The gateway ip
<li>If you do not have default gateway info:<br>
      <code>/sbin/route add default belenix-box-1</code>
<li>Execute: <code>svcadm enable dns/client</code></li>
</ul></li>
</ul>


<h2 id="head-add-del-users">Adding and Deleting users</h2>

<p></p>
You can add users easily via the graphical KDE User Manager(KUser) utility or you can do it manually via the command line. If you want to use command
line the text below will be of help:
<p></p>
The <code>/usr/sbin/useradd</code> command can be used to add users.
<p></p>
Example:
<br>
<code>
/usr/sbin/useradd -d /export/home/fubar -m -u 1000 -g fugroup -e 10/10/2010 -s /usr/bin/ksh fubar
<br>
This example illustrates several options:
<br>&nbsp;&nbsp;&nbsp; 
-d Sets the user's home directory. On OpenSolaris local users should have
   home directory under /export/home as /home is used by the automounter.
<br>&nbsp;&nbsp;&nbsp; 
-m Instructs to automatically create user's home directory
<br>&nbsp;&nbsp;&nbsp; 
-s Sets the user's shell to /usr/bin/ksh. This is optional and shell
   defaults to /bin/sh if this is left out.
<br>&nbsp;&nbsp;&nbsp; 
-u Optionally sets the user's id. An ID is auto-generated if this is
   left out.
<br>&nbsp;&nbsp;&nbsp; 
-g Optionally add the user to the given group.
<br>&nbsp;&nbsp;&nbsp; 
-e Set the expiry date of the user account. Date formats are mentioned in
   /etc/datemsk
<br>&nbsp;&nbsp;&nbsp; 
The last item is the username.

</code>

<p></p>
<p></p>
The /usr/sbin/userdel command can be used to delete users.
<p></p>
Example:
<code>/usr/sbin/userdel -r fubar</code>

<p></p>
The -r optional switch also deletes the user's home directory.


<h2 id="head-submit-bug-reports">How do I submit bug reports ?</h2>
<p></p>
Make sure the bug in question is not already addressed
<ul>
<li> Make sure you have read the FAQ
(http://www.genunix.org/wiki/index.php/Belenix_FAQ)

<li> Search the mailing list archives.
(http://mail.opensolaris.org/pipermail/belenix-discuss)

<li>If you're certain that you have uncovered a bug, then 
  head to http://sourceforge.net/projects/belenix/ and file your bug report.</li>           
     
</ul>


<h2 id="head-get-support">Where do I get support ?</h2>
<p></p>
<ul>
<li> Mailing list
  Belenix user mailing list is belenix-discuss@opensolaris.org
  One may subscribe by sending a blank mail to 
  belenix-discuss-subscribe@opensolaris.org

<li>Belenix IRC #belenix at freenode.net is the IRC 
  channel to be used</li>  
           
</ul>


<h2 id="head-contribute">How do I contribute ?</h2>
<p></p>
Use belenix, provide improvement suggestions
<ul>
<li> Test, report bugs, fix bugs. 
  
<li> Answer user queries on mailing lists &amp; IRC 
  channels 
  
<li> Author documentation 
  
<li> Contribute art-work, blog about belenix, conduct 
  presentations &amp; workshops 
  
<li> Port applications to belenix, contribute spec files 
  

<li> Contribute to technologies at opensolaris.org Belenix 
  is based on these. We derive the sources from opensolaris.org 
  
<li> Contribute to any of the various spec file 
  repositories SFE at www.sf.net spec-files-other maintained by the Desktop 
  community for Indiana 
  
<li> Contribute to Indiana
  Belenix is a source level derivative of Indiana. Contributions to Indiana
  benefits Belenix and vice-versa</li>
</ul>

Belenix development discussions happen on the mailing list
belenix-dev@opensolaris.org
<p></p>
<div id="footer">
  <div id="align_center">
     <a href="http://www.belenix.org">Belenix Website</a> - 
     <A href="mailto:belenix-discuss@opensolaris.org?subject=Belenix Feedback">Mailing List</a> - 
     <a href="http://www.opensolaris.org">opensolaris.org</a>
  </div>
</div></div></div>
</body></html>
