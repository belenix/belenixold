diff -up gnome-netstatus-2.12.1/src/netstatus.schemas.in.orig gnome-netstatus-2.12.1/src/netstatus.schemas.in
--- gnome-netstatus-2.12.1/src/netstatus.schemas.in.orig	2007-02-13 09:39:19.000000000 +0000
+++ gnome-netstatus-2.12.1/src/netstatus.schemas.in	2008-08-28 07:38:49.844136328 +0100
@@ -12,6 +12,17 @@
       </locale>
     </schema>
 
+    <schema>
+      <key>/schemas/apps/netstatus_applet/prefs/track_active_interface</key>
+      <owner>netstatus-applet</owner>
+      <type>bool</type>
+      <default>false</default>
+      <locale name="C">
+        <short>Track active Network Interface</short>
+        <long>Have Network Monitor keep track of the active Network Interface</long>
+      </locale>
+    </schema>
+
     <!-- Yes, this key is purposely global to all instances of the applet -->
     <schema>
       <key>/schemas/apps/netstatus_applet/config_tool</key>


diff -up gnome-netstatus-2.26.0/src/netstatus-applet.c.orig gnome-netstatus-2.26.0/src/netstatus-applet.c
--- gnome-netstatus-2.26.0/src/netstatus-applet.c.orig	2009-03-18 10:39:57.140021138 +0000
+++ gnome-netstatus-2.26.0/src/netstatus-applet.c	2009-03-18 10:39:57.146340723 +0000
@@ -46,6 +46,7 @@ struct _NetstatusAppletPrivate
   
   GConfClient    *client;
   guint           notify_id;
+  guint           track_active_interface_id;
 };
 
 static void     netstatus_applet_instance_init             (NetstatusApplet           *applet,
@@ -70,6 +71,7 @@ static void     netstatus_applet_display
 							    NetstatusApplet           *applet);
 static void     netstatus_applet_display_status_dialog     (NetstatusApplet           *applet);
 static void     netstatus_applet_iface_name_changed        (NetstatusApplet           *applet);
+static void     netstatus_applet_iface_track_active_changed(NetstatusApplet *applet);
 
 static GObjectClass *parent_class;
 
@@ -128,6 +130,10 @@ netstatus_applet_instance_init (Netstatu
 			    G_CALLBACK (netstatus_applet_iface_name_changed),
 			    applet);
 
+  g_signal_connect_swapped (applet->priv->iface, "notify::track-active-interface",
+			    G_CALLBACK (netstatus_applet_iface_track_active_changed),
+			    applet);
+
   g_signal_connect_swapped (applet->priv->icon, "invoked",
 			    G_CALLBACK (netstatus_applet_display_status_dialog),
 			    applet);
@@ -169,6 +175,10 @@ netstatus_applet_finalize (GObject *obje
     gconf_client_notify_remove (applet->priv->client, applet->priv->notify_id);
   applet->priv->notify_id = 0;
 
+  if (applet->priv->track_active_interface_id)
+    gconf_client_notify_remove (applet->priv->client, applet->priv->track_active_interface_id);
+  applet->priv->track_active_interface_id = 0;
+
   if (applet->priv->client)
     g_object_unref (applet->priv->client);
   applet->priv->client = NULL;
@@ -376,6 +386,19 @@ netstatus_applet_orientation_changed (Ne
 }
 
 static void
+netstatus_applet_iface_track_active_changed(NetstatusApplet *applet)
+{
+  gboolean track_active;
+
+  track_active = netstatus_iface_get_track_active_interface (applet->priv->iface);
+  panel_applet_gconf_set_bool(PANEL_APPLET (applet),
+                 "track_active_interface",
+                 track_active,
+                 NULL);
+
+}
+
+static void
 netstatus_applet_iface_name_changed (NetstatusApplet *applet)
 {
   const char *iface_name;
@@ -398,10 +421,29 @@ netstatus_applet_iface_pref_changed (GCo
 {
   if (entry->value && entry->value->type == GCONF_VALUE_STRING)
     {
+      gboolean    track_active;
       const char *iface_name;
 
-      iface_name = gconf_value_get_string (entry->value);
-      netstatus_iface_set_name (applet->priv->iface, iface_name);
+      track_active = netstatus_iface_get_track_active_interface(applet->priv->iface);
+      if ( !track_active ) {
+          iface_name = gconf_value_get_string (entry->value);
+          netstatus_iface_set_name (applet->priv->iface, iface_name);
+      }
+    }
+}
+
+static void
+netstatus_applet_iface_track_active_interface_changed (GConfClient     *client,
+				     guint            cnxn_id,
+				     GConfEntry      *entry,
+				     NetstatusApplet *applet)
+{
+  if (entry->value && entry->value->type == GCONF_VALUE_BOOL)
+    {
+      gboolean track_active;
+
+      track_active = gconf_value_get_bool(entry->value);
+      netstatus_iface_set_track_active_interface (applet->priv->iface, track_active);
     }
 }
 
@@ -409,6 +451,7 @@ static gboolean
 netstatus_applet_create (NetstatusApplet *applet,
 			 const char      *iid)
 {
+  gboolean track_active = FALSE;
   char *iface_name;
   char *key;
 
@@ -426,66 +469,75 @@ netstatus_applet_create (NetstatusApplet
 				"/schemas/apps/netstatus_applet/prefs",
 				NULL);
 
-  iface_name = panel_applet_gconf_get_string (PANEL_APPLET (applet),
-					      "interface",
+  track_active = panel_applet_gconf_get_bool (PANEL_APPLET (applet),
+					      "track_active_interface",
 					      NULL);
-  if (!iface_name || !iface_name [0])
-    {
-      GError *error = NULL;
-      GList  *iface_names;
 
-      g_free (iface_name);
-      iface_name = NULL;
-      
-      iface_names = netstatus_list_interface_names (&error);
-      if (iface_names)
-	{
-	  GList *l;
-	  gulong in_packets, out_packets;
-	  gulong in_bytes, out_bytes;
-	  char *error_message;
-
-	  /* FIXME: instead of picking the first one we should
-	   *        figure out what interfaces aren't currently
-	   *        displayed in an applet.
-	   */
-	  /* Process list of interfaces, and instead of showing first one,
-	   * Show first non error interface.
-	   */
-	  for (l = iface_names; l; l = l->next) {
-	    if ((error_message = netstatus_sysdeps_read_iface_statistics (l->data,
-	         &in_packets, &out_packets, &in_bytes, &out_bytes)) == NULL) {
-	        /* Success !! make this the iface_name */
-	        iface_name = l->data;
-	        break;
-	    } else {
-			g_free (error_message);
-		}
-	  }
-
-  	  if (!iface_name || !iface_name [0])
-	    iface_name = iface_names->data;
-
-	  for (l = iface_names; l; l = l->next) {
-	    /* Only free non used names */
-	    if (strcmp(l->data, iface_name)) {
-    	      g_free (l->data);
-		}
-	  }
-	  g_list_free (iface_names);
-	}
-      else
-	{
-	  g_assert (error != NULL);
-	  g_object_set (G_OBJECT (applet->priv->iface),
-			"error", error,
-			NULL);
-	  g_error_free (error);
-	}
-    }
+  if ( track_active ) {
+      netstatus_iface_set_track_active_interface (applet->priv->iface, track_active );
+  }
+  else {
+      iface_name = panel_applet_gconf_get_string (PANEL_APPLET (applet),
+                                                  "interface",
+                                                  NULL);
+      if (!iface_name || !iface_name [0])
+        {
+          GError *error = NULL;
+          GList  *iface_names;
+
+          g_free (iface_name);
+          iface_name = NULL;
+          
+          iface_names = netstatus_list_interface_names (&error);
+          if (iface_names)
+            {
+              GList *l;
+              gulong in_packets, out_packets;
+              gulong in_bytes, out_bytes;
+              char *error_message;
+
+              /* FIXME: instead of picking the first one we should
+               *        figure out what interfaces aren't currently
+               *        displayed in an applet.
+               */
+              /* Process list of interfaces, and instead of showing first one,
+               * Show first non error interface.
+               */
+              for (l = iface_names; l; l = l->next) {
+                if ((error_message = netstatus_sysdeps_read_iface_statistics (l->data,
+                     &in_packets, &out_packets, &in_bytes, &out_bytes)) == NULL) {
+                    /* Success !! make this the iface_name */
+                    iface_name = l->data;
+                    break;
+                } else {
+                            g_free (error_message);
+                    }
+              }
+
+              if (!iface_name || !iface_name [0])
+                iface_name = iface_names->data;
+
+              for (l = iface_names; l; l = l->next) {
+                /* Only free non used names */
+                if (strcmp(l->data, iface_name)) {
+                  g_free (l->data);
+                    }
+              }
+              g_list_free (iface_names);
+            }
+          else
+            {
+              g_assert (error != NULL);
+              g_object_set (G_OBJECT (applet->priv->iface),
+                            "error", error,
+                            NULL);
+              g_error_free (error);
+            }
+        }
 
-  netstatus_iface_set_name (applet->priv->iface, iface_name);
-  g_free (iface_name);
+      netstatus_iface_set_name (applet->priv->iface, iface_name);
+      g_free (iface_name);
+  }
 
   key = panel_applet_gconf_get_full_key (PANEL_APPLET (applet), "interface");
   applet->priv->notify_id =
@@ -497,6 +549,17 @@ netstatus_applet_create (NetstatusApplet
 			     NULL);
   g_free (key);
 
+  key = panel_applet_gconf_get_full_key (PANEL_APPLET (applet), "track_active_interface");
+
+  applet->priv->track_active_interface_id =
+    gconf_client_notify_add (applet->priv->client,
+			     key,
+			     (GConfClientNotifyFunc) netstatus_applet_iface_track_active_interface_changed,
+			     applet,
+			     NULL,
+			     NULL);
+  g_free (key);
+
   return TRUE;
 }
 

diff -up gnome-netstatus-2.12.1/icons/Makefile.am.orig gnome-netstatus-2.12.1/icons/Makefile.am
--- gnome-netstatus-2.12.1/icons/Makefile.am.orig	2008-09-15 17:04:22.590619122 +0100
+++ gnome-netstatus-2.12.1/icons/Makefile.am	2008-09-15 17:05:46.172252679 +0100
@@ -1,15 +1,4 @@
-icondir = $(datadir)/icons/hicolor/48x48/apps
-icon_DATA = 				\
-	gnome-netstatus-disconn.png	\
-	gnome-netstatus-idle.png	\
-	gnome-netstatus-rx.png		\
-	gnome-netstatus-tx.png		\
-	gnome-netstatus-txrx.png        \
-	gnome-netstatus-error.png       \
-	gnome-netstatus-0-24.png        \
-	gnome-netstatus-25-49.png       \
-	gnome-netstatus-50-74.png       \
-	gnome-netstatus-75-100.png
+SUBDIRS= hicolor
 
 gtk_update_icon_cache = gtk-update-icon-cache -f -t $(datadir)/icons/hicolor
 install-data-hook: update-icon-cache
@@ -23,4 +12,3 @@ update-icon-cache:
 		echo "***   $(gtk_update_icon_cache)"; \
 	fi
 
-EXTRA_DIST = $(icon_DATA)

diff -up gnome-netstatus-2.26.0/src/netstatus-icon.c.orig gnome-netstatus-2.26.0/src/netstatus-icon.c
--- gnome-netstatus-2.26.0/src/netstatus-icon.c.orig	2009-03-18 11:45:09.775547673 +0000
+++ gnome-netstatus-2.26.0/src/netstatus-icon.c	2009-03-18 11:47:00.624537186 +0000
@@ -54,15 +54,21 @@ struct _NetstatusIconPrivate
   GdkPixbuf      *icons [NETSTATUS_STATE_LAST];
   GdkPixbuf      *scaled_icons [NETSTATUS_STATE_LAST];
 
+  GdkPixbuf      *wireless_icons [NETSTATUS_STATE_LAST];
+  GdkPixbuf      *scaled_wireless_icons [NETSTATUS_STATE_LAST];
+
   GdkPixbuf      *signal_icons [NETSTATUS_SIGNAL_LAST];
   GdkPixbuf      *rotated_signal_icons [NETSTATUS_SIGNAL_LAST];
   GdkPixbuf      *scaled_signal_icons [NETSTATUS_SIGNAL_LAST];
 
+  GdkPixbuf     *rendered_wireless_pixbufs[NETSTATUS_STATE_LAST][NETSTATUS_SIGNAL_LAST];
+
   GtkOrientation  orientation;
   int             size;
 
+  gulong          query_tooltip_id;
+
   gulong          state_changed_id;
-  gulong          name_changed_id;
   gulong          wireless_changed_id;
   gulong          signal_changed_id;
 
@@ -119,23 +125,44 @@ netstatus_icon_theme_changed (NetstatusI
 
   for (i = 0; i < NETSTATUS_STATE_LAST; i++)
     {
-      g_object_unref (icon->priv->scaled_icons [i]);
-      icon->priv->scaled_icons [i] = NULL;
+      if ( icon->priv->scaled_icons [i] != NULL ) {
+          g_object_unref (icon->priv->scaled_icons [i]);
+          icon->priv->scaled_icons [i] = NULL;
+      }
 
       g_object_unref (icon->priv->icons [i]);
       icon->priv->icons [i] = NULL;
+
+      g_object_unref (icon->priv->wireless_icons [i]);
+      icon->priv->wireless_icons [i] = NULL;
+
+      if ( icon->priv->scaled_wireless_icons [i] != NULL ) {
+          g_object_unref(icon->priv->scaled_wireless_icons [i]);
+          icon->priv->scaled_wireless_icons [i] = NULL;
+      }
     }
   
   for (i = 0; i < NETSTATUS_SIGNAL_LAST; i++)
     {
-      g_object_unref (icon->priv->scaled_signal_icons [i]);
-      icon->priv->scaled_signal_icons [i] = NULL;
-
-      g_object_unref (icon->priv->signal_icons [i]);
-      icon->priv->signal_icons [i] = NULL;
+      if ( icon->priv->scaled_signal_icons [i] != NULL ) {
+          g_object_unref (icon->priv->scaled_signal_icons [i]);
+          icon->priv->scaled_signal_icons [i] = NULL;
+      }
+
+      if ( icon->priv->signal_icons [i] != NULL ) {
+          g_object_unref (icon->priv->signal_icons [i]);
+          icon->priv->signal_icons [i] = NULL;
+      }
+    }
+
+  for (i = 0; i < NETSTATUS_STATE_LAST; i++) {
+    for (int j = 0; j < NETSTATUS_SIGNAL_LAST; j++) {
+     if ( icon->priv->rendered_wireless_pixbufs[i][j] != NULL ) {
+       g_object_unref(icon->priv->rendered_wireless_pixbufs[i][j]);
+     }
+     icon->priv->rendered_wireless_pixbufs[i][j] = NULL;
     }
-
-  netstatus_icon_init_pixbufs (icon);
+  }
 
   if (icon->priv->size)
     {
@@ -153,6 +180,10 @@ netstatus_icon_get_icon_theme (Netstatus
       screen = gtk_widget_get_screen (GTK_WIDGET (icon));
       icon->priv->icon_theme = gtk_icon_theme_get_for_screen (screen);
 
+      gtk_icon_theme_append_search_path (gtk_icon_theme_get_default (),
+                                         NETSTATUS_DATA_DIR G_DIR_SEPARATOR_S "icons");
+
+
       g_signal_connect_object (icon->priv->icon_theme, "changed",
 			       G_CALLBACK (netstatus_icon_theme_changed),
 			       icon,
@@ -286,32 +317,32 @@ netstatus_icon_init_pixbufs (NetstatusIc
 {
   netstatus_icon_init_pixbuf (icon,
 			      &icon->priv->icons [NETSTATUS_STATE_DISCONNECTED],
-			      "gnome-netstatus-disconn");
+			      "network-offline");
   icon->priv->scaled_icons [NETSTATUS_STATE_DISCONNECTED] = NULL;
 
   netstatus_icon_init_pixbuf (icon,
 			      &icon->priv->icons [NETSTATUS_STATE_IDLE],
-			      "gnome-netstatus-idle");
+			      "network-idle");
   icon->priv->scaled_icons [NETSTATUS_STATE_IDLE] = NULL;
 
   netstatus_icon_init_pixbuf (icon,
 			      &icon->priv->icons [NETSTATUS_STATE_TX],
-			      "gnome-netstatus-tx");
+			      "network-transmit");
   icon->priv->scaled_icons [NETSTATUS_STATE_TX] = NULL;
 
   netstatus_icon_init_pixbuf (icon,
 			      &icon->priv->icons [NETSTATUS_STATE_RX],
-			      "gnome-netstatus-rx");
+			      "network-receive");
   icon->priv->scaled_icons [NETSTATUS_STATE_RX] = NULL;
 
   netstatus_icon_init_pixbuf (icon,
 			      &icon->priv->icons [NETSTATUS_STATE_TX_RX],
-			      "gnome-netstatus-txrx");
+			      "network-transmit-receive");
   icon->priv->scaled_icons [NETSTATUS_STATE_TX_RX] = NULL;
 
   netstatus_icon_init_pixbuf (icon,
 			      &icon->priv->icons [NETSTATUS_STATE_ERROR],
-			      "gnome-netstatus-error");
+			      "network-error");
   icon->priv->scaled_icons [NETSTATUS_STATE_ERROR] = NULL;
 
   netstatus_icon_init_pixbuf (icon,
@@ -338,6 +369,38 @@ netstatus_icon_init_pixbufs (NetstatusIc
   icon->priv->rotated_signal_icons [NETSTATUS_SIGNAL_75_100] = NULL;
   icon->priv->scaled_signal_icons  [NETSTATUS_SIGNAL_75_100] = NULL;
 
+  /* Load rx, tx, error, disconnect icons for wireless */
+  netstatus_icon_init_pixbuf (icon,
+			      &icon->priv->wireless_icons [NETSTATUS_STATE_TX],
+			      "gnome-netstatus-wireless-transmit");
+  icon->priv->scaled_wireless_icons [NETSTATUS_STATE_TX] = NULL;
+
+  netstatus_icon_init_pixbuf (icon,
+			      &icon->priv->wireless_icons [NETSTATUS_STATE_RX],
+			      "gnome-netstatus-wireless-receive");
+
+  icon->priv->scaled_wireless_icons [NETSTATUS_STATE_RX] = NULL;
+
+  netstatus_icon_init_pixbuf (icon,
+			      &icon->priv->wireless_icons [NETSTATUS_STATE_TX_RX],
+			      "gnome-netstatus-wireless-transmit-receive");
+  icon->priv->scaled_wireless_icons [NETSTATUS_STATE_TX_RX] = NULL;
+
+  netstatus_icon_init_pixbuf (icon,
+			      &icon->priv->wireless_icons [NETSTATUS_STATE_DISCONNECTED],
+			      "gnome-netstatus-wireless-offline");
+  icon->priv->scaled_wireless_icons [NETSTATUS_STATE_DISCONNECTED] = NULL;
+
+  netstatus_icon_init_pixbuf (icon,
+			      &icon->priv->wireless_icons [NETSTATUS_STATE_IDLE],
+			      "gnome-netstatus-wireless-idle");
+  icon->priv->scaled_wireless_icons [NETSTATUS_STATE_IDLE] = NULL;
+
+  netstatus_icon_init_pixbuf (icon,
+			      &icon->priv->wireless_icons [NETSTATUS_STATE_ERROR],
+			      "gnome-netstatus-wireless-error");
+  icon->priv->scaled_wireless_icons [NETSTATUS_STATE_ERROR] = NULL;
+
   netstatus_icon_rotate_signal_icons (icon, icon->priv->orientation);
 }
 
@@ -356,40 +419,129 @@ netstatus_icon_update_image (NetstatusIc
   if (gtk_image_get_pixbuf (GTK_IMAGE (icon->priv->image)) != pixbuf)
     gtk_image_set_from_pixbuf (GTK_IMAGE (icon->priv->image), pixbuf);
 
-  pixbuf = icon->priv->scaled_signal_icons [icon->priv->signal_strength];
-  if (!pixbuf)
-    pixbuf = icon->priv->rotated_signal_icons [icon->priv->signal_strength];
-  
-  if (gtk_image_get_pixbuf (GTK_IMAGE (icon->priv->signal_image)) != pixbuf)
-    gtk_image_set_from_pixbuf (GTK_IMAGE (icon->priv->signal_image), pixbuf);
+  if (netstatus_iface_get_is_wireless (icon->priv->iface)) {
+    /* Merge Signal + Status Pixmaps for wireless icon */
+    GdkPixbuf *wireless_state_pixbuf;
+    
+    if ( icon->priv->rendered_wireless_pixbufs[icon->priv->state][icon->priv->signal_strength] == NULL ) {
+      /* Render for first time */
+      GdkPixbuf *rendered_pixbuf; 
+      GdkPixbuf *state_pixbuf; 
+      GdkPixbuf *signal_pixbuf; 
+      gint       back_width;
+      gint       back_height;
+
+      state_pixbuf = icon->priv->scaled_wireless_icons [icon->priv->state];
+      if (!state_pixbuf)
+        state_pixbuf = icon->priv->wireless_icons [icon->priv->state];
+
+      signal_pixbuf = icon->priv->scaled_signal_icons [icon->priv->signal_strength];
+      if (!signal_pixbuf)
+        signal_pixbuf = icon->priv->rotated_signal_icons [icon->priv->signal_strength];
+
+      rendered_pixbuf = gdk_pixbuf_copy(signal_pixbuf);
+      back_width = gdk_pixbuf_get_width (rendered_pixbuf);
+      back_height = gdk_pixbuf_get_height (rendered_pixbuf);
+
+      gdk_pixbuf_composite (state_pixbuf,
+                      rendered_pixbuf,
+                      0, 0,
+                      back_width, back_height,
+                      0, 0,
+                      1.0, 1.0,
+                      GDK_INTERP_NEAREST,
+                      255 );
+
+      icon->priv->rendered_wireless_pixbufs[icon->priv->state][icon->priv->signal_strength] = rendered_pixbuf;
+    }
+
+    /* TODO - Do we handle rotation? 
+    pixbuf = icon->priv->scaled_signal_icons [icon->priv->signal_strength];
+    if (!pixbuf)
+      pixbuf = icon->priv->rotated_signal_icons [icon->priv->signal_strength];
+    */ 
+
+    pixbuf = icon->priv->rendered_wireless_pixbufs[icon->priv->state][icon->priv->signal_strength];
+    if (gtk_image_get_pixbuf (GTK_IMAGE (icon->priv->signal_image)) != pixbuf)
+      gtk_image_set_from_pixbuf (GTK_IMAGE (icon->priv->signal_image), pixbuf);
+  }
 }
 
-static void
-netstatus_icon_name_changed (NetstatusIface *iface,
-			     GParamSpec     *pspec,
-			     NetstatusIcon  *icon)
-{
-  const char *iface_name;
-  const char *tip;
-  char       *freeme = NULL;
-
-  iface_name = netstatus_iface_get_name (icon->priv->iface);
-  if (iface_name)
-    {
-      const char *state_string;
-
-      state_string = netstatus_get_state_string (icon->priv->state);
-      freeme = g_strdup_printf (_("Network Connection: %s\n%s"), iface_name, state_string);
-      tip = freeme;
-    }
-  else
-    {
-      tip = _("Network Connection");
-    }
-
-  gtk_widget_set_tooltip_text (GTK_WIDGET (icon), tip);
+static gboolean
+netstatus_icon_query_tooltip(   NetstatusIcon  *icon,
+                                gint            x,
+                                gint            y,
+                                gboolean        keyboard_mode,
+                                GtkTooltip     *tooltip,
+                                gpointer        user_data)     
+{
+  const char   *iface_name = NULL;
+  char         *ipaddr = NULL;
+  GString      *tooltip_markup = g_string_new("<tt>");
+  char         *cstr;
+
+  if ( !icon->priv->tooltips_enabled )
+      return( FALSE );
+
+  if (icon->priv->iface != NULL ) {
+    if ( netstatus_iface_get_is_wireless (icon->priv->iface)) {
+      const char *iface_essid;
+      const char *iface_bss_mode;
+      gint        signal_strength;
+
+      iface_essid = netstatus_iface_get_essid (icon->priv->iface);
+      iface_bss_mode = netstatus_iface_get_bss_mode (icon->priv->iface);
+      signal_strength = netstatus_iface_get_signal_strength (icon->priv->iface);
+
+      if ( iface_essid != NULL ) {
+        /* SUN_BRANDING */
+        g_string_append_printf(tooltip_markup, _("<b>%-20s</b>: %s"),
+                               /* SUN_BRANDING */
+                               _("Wireless Network"), iface_essid );
+        g_string_append(tooltip_markup, "\n");
+      }
+
+      /* SUN_BRANDING */
+      g_string_append_printf(tooltip_markup, _("<b>%-20s</b>: %d%%"),
+                             /* SUN_BRANDING */
+                             _("Signal Strength"), signal_strength );
+      g_string_append(tooltip_markup, "\n");
+
+      if ( iface_bss_mode != NULL ) {
+        /* SUN_BRANDING */
+        g_string_append_printf(tooltip_markup, _("<b>%-20s</b>: %s"),
+                               /* SUN_BRANDING */
+                               _("Operational Mode"), iface_bss_mode );
+        g_string_append(tooltip_markup, "\n");
+      }
+    }
+
+    iface_name = netstatus_iface_get_name (icon->priv->iface);
+    netstatus_iface_get_inet4_details (icon->priv->iface, &ipaddr, NULL, NULL, NULL );
+
+    if ( ipaddr != NULL ) {
+        /* SUN_BRANDING */
+        g_string_append_printf(tooltip_markup, _("<b>%-20s</b>: %s"),
+                               /* SUN_BRANDING */
+                               _("IP Address (v4)"), ipaddr );
+        g_string_append(tooltip_markup, "\n");
+    }
+
+  }
+  if ( iface_name != NULL ) {
+    g_string_append_printf(tooltip_markup, _("<b>%-20s</b>: %s"), _("Network Connection"), iface_name );
+  }
+  else {
+    g_string_append_printf(tooltip_markup, _("Network Connection")  );
+  }
+
+  g_string_append(tooltip_markup, "</tt>");
+  cstr = g_string_free(tooltip_markup, FALSE);
+  gtk_tooltip_set_markup( tooltip, cstr );
+  g_free(cstr);
 
-  g_free (freeme);
+  g_free(ipaddr);
+  return( TRUE );
 }
 
 static void
@@ -408,7 +560,6 @@ netstatus_icon_state_changed (NetstatusI
       icon->priv->state = state;
 
       netstatus_icon_update_image (icon);
-      netstatus_icon_name_changed (icon->priv->iface, NULL, icon);
     }
 }
 
@@ -417,10 +568,16 @@ netstatus_icon_is_wireless_changed (Nets
 				    GParamSpec     *pspec,
 				    NetstatusIcon  *icon)
 {
-  if (netstatus_iface_get_is_wireless (iface) && icon->priv->show_signal)
+  netstatus_icon_update_image (icon);
+
+  if (netstatus_iface_get_is_wireless (iface) && icon->priv->show_signal) {
+    gtk_widget_hide (icon->priv->image);
     gtk_widget_show (icon->priv->signal_image);
-  else
+  }
+  else {
+    gtk_widget_show (icon->priv->image);
     gtk_widget_hide (icon->priv->signal_image);
+  }
 }
 
 static void
@@ -459,21 +616,23 @@ netstatus_icon_destroy (GtkObject *widge
     gtk_widget_destroy (icon->priv->error_dialog);
   icon->priv->error_dialog = NULL;
 
+  if ( icon->priv->query_tooltip_id ) {
+      g_signal_handler_disconnect (icon,
+				   icon->priv->query_tooltip_id);
+  }
+  icon->priv->query_tooltip_id    = 0;
+
   if (icon->priv->state_changed_id)
     {
       g_assert (icon->priv->iface != NULL);
-      g_assert (icon->priv->name_changed_id != 0);
       g_signal_handler_disconnect (icon->priv->iface,
 				   icon->priv->state_changed_id);
       g_signal_handler_disconnect (icon->priv->iface,
-				   icon->priv->name_changed_id);
-      g_signal_handler_disconnect (icon->priv->iface,
 				   icon->priv->wireless_changed_id);
       g_signal_handler_disconnect (icon->priv->iface,
 				   icon->priv->signal_changed_id);
     }
   icon->priv->state_changed_id    = 0;
-  icon->priv->name_changed_id     = 0;
   icon->priv->wireless_changed_id = 0;
   icon->priv->signal_changed_id   = 0;
 
@@ -566,6 +725,16 @@ netstatus_icon_scale_icons (NetstatusIco
 						   TRUE);
     }
 
+  for (i = 0; i < NETSTATUS_STATE_LAST; i++)
+    {
+      if (icon->priv->scaled_wireless_icons [i])
+	g_object_unref (icon->priv->scaled_wireless_icons [i]);
+      icon->priv->scaled_wireless_icons [i] = scale_pixbuf (icon->priv->wireless_icons [i],
+						   icon->priv->orientation,
+						   size,
+						   TRUE);
+    }
+
   for (i = 0; i < NETSTATUS_SIGNAL_LAST; i++)
     {
       if (icon->priv->scaled_signal_icons [i])
@@ -573,8 +742,18 @@ netstatus_icon_scale_icons (NetstatusIco
       icon->priv->scaled_signal_icons [i] = scale_pixbuf (icon->priv->rotated_signal_icons [i],
 							  icon->priv->orientation,
 							  size,
-							  FALSE);
+							  TRUE);
     }
+ 
+   /* Invalidate rendered icons */
+  for (i = 0; i < NETSTATUS_STATE_LAST; i++) {
+    for (int j = 0; j < NETSTATUS_SIGNAL_LAST; j++) {
+     if ( icon->priv->rendered_wireless_pixbufs[i][j] != NULL ) {
+       g_object_unref(icon->priv->rendered_wireless_pixbufs[i][j]);
+     }
+     icon->priv->rendered_wireless_pixbufs[i][j] = NULL;
+    }
+  }
 
   netstatus_icon_update_image (icon);
 }
@@ -862,12 +1041,15 @@ netstatus_icon_instance_init (NetstatusI
 
   icon->priv->image = gtk_image_new ();
   gtk_container_add (GTK_CONTAINER (icon), icon->priv->image);
-  gtk_widget_show (icon->priv->image);
+  gtk_widget_hide (icon->priv->image);
 
   icon->priv->signal_image = gtk_image_new ();
   gtk_container_add (GTK_CONTAINER (icon), icon->priv->signal_image);
   gtk_widget_hide (icon->priv->signal_image);
 
+  icon->priv->query_tooltip_id  = g_signal_connect(icon, "query-tooltip",
+                                                   G_CALLBACK (netstatus_icon_query_tooltip), NULL);
+  
   gtk_widget_add_events (GTK_WIDGET (icon),
 			 GDK_BUTTON_PRESS_MASK | GDK_ENTER_NOTIFY_MASK | GDK_LEAVE_NOTIFY_MASK);
 }
@@ -971,12 +1153,9 @@ netstatus_icon_set_iface (NetstatusIcon 
       if (icon->priv->state_changed_id)
 	{
 	  g_assert (icon->priv->iface != NULL);
-	  g_assert (icon->priv->name_changed_id != 0);
 	  g_signal_handler_disconnect (icon->priv->iface,
 				       icon->priv->state_changed_id);
 	  g_signal_handler_disconnect (icon->priv->iface,
-				       icon->priv->name_changed_id);
-	  g_signal_handler_disconnect (icon->priv->iface,
 				       icon->priv->wireless_changed_id);
 	  g_signal_handler_disconnect (icon->priv->iface,
 				       icon->priv->signal_changed_id);
@@ -991,15 +1170,12 @@ netstatus_icon_set_iface (NetstatusIcon 
 
       icon->priv->state_changed_id     = g_signal_connect (icon->priv->iface, "notify::state",
 							   G_CALLBACK (netstatus_icon_state_changed), icon);
-      icon->priv->name_changed_id      = g_signal_connect (icon->priv->iface, "notify::name",
-							   G_CALLBACK (netstatus_icon_name_changed), icon);
       icon->priv->wireless_changed_id  = g_signal_connect (icon->priv->iface, "notify::wireless",
 							   G_CALLBACK (netstatus_icon_is_wireless_changed), icon);
       icon->priv->signal_changed_id    = g_signal_connect (icon->priv->iface, "notify::signal-strength",
 							   G_CALLBACK (netstatus_icon_signal_changed), icon);
 
       netstatus_icon_state_changed       (icon->priv->iface, NULL, icon);
-      netstatus_icon_name_changed        (icon->priv->iface, NULL, icon);
       netstatus_icon_is_wireless_changed (icon->priv->iface, NULL, icon);
       netstatus_icon_signal_changed      (icon->priv->iface, NULL, icon);
 

diff -up gnome-netstatus-2.26.0/src/netstatus-dialog.c.orig gnome-netstatus-2.26.0/src/netstatus-dialog.c
--- gnome-netstatus-2.26.0/src/netstatus-dialog.c.orig	2009-03-18 10:39:57.128044855 +0000
+++ gnome-netstatus-2.26.0/src/netstatus-dialog.c	2009-03-18 10:39:57.153119228 +0000
@@ -85,6 +85,11 @@ typedef struct
   GtkWidget      *signal_strength_frame;
   GtkWidget      *signal_strength_bar;
   GtkWidget      *signal_strength_label;
+  GtkWidget      *essid_value_label;
+  GtkWidget      *bssid_value_label;
+  GtkWidget      *bss_mode_value_label;
+  GtkWidget      *security_value_label;
+  GtkWidget      *auth_mode_value_label;
   GtkWidget      *configure_button;
 
   GtkWidget      *inet4_frame;
@@ -102,6 +107,10 @@ typedef struct
   GtkWidget      *dev_type;
   GtkWidget      *dev_addr;
 
+  GtkWidget      *track_active_interface_cbox;
+  GtkWidget      *configure_net_auto_cbox;
+  gboolean        configured_for_auto;
+
   GtkWidget      *restart_button;
   GtkWidget      *restart_button_image;
   GtkWidget      *restart_button_label;
@@ -210,6 +219,11 @@ netstatus_dialog_update_signal_strength 
     {
       int   signal_strength;
       char *str;
+      const char *essid;
+      const char *bssid;
+      const char *bss_mode;
+      const char *auth_mode;
+      const char *security;
 
       gtk_widget_show (data->signal_strength_frame);
 
@@ -221,6 +235,18 @@ netstatus_dialog_update_signal_strength 
       str = g_strdup_printf ("%d%%\n", signal_strength);
       gtk_label_set_text (GTK_LABEL (data->signal_strength_label), str);
       g_free (str);
+
+      essid = netstatus_iface_get_essid (data->iface);
+      bssid = netstatus_iface_get_bssid (data->iface);
+      bss_mode = netstatus_iface_get_bss_mode (data->iface);
+      security = netstatus_iface_get_security (data->iface);
+      auth_mode = netstatus_iface_get_auth_mode (data->iface);
+
+      gtk_label_set_text (GTK_LABEL (data->essid_value_label), essid?essid:"" );
+      gtk_label_set_text (GTK_LABEL (data->bssid_value_label), bssid?bssid:"" );
+      gtk_label_set_text (GTK_LABEL (data->bss_mode_value_label), bss_mode?bss_mode:"" );
+      gtk_label_set_text (GTK_LABEL (data->auth_mode_value_label), auth_mode?auth_mode:"" );
+      gtk_label_set_text (GTK_LABEL (data->security_value_label), security?security:"" );
     }
   else
     {
@@ -339,6 +365,141 @@ netstatus_dialog_update_device_support (
 }
 
 static void
+netstatus_dialog_set_track_active_interface(NetstatusDialogData *data,
+				                            GtkToggleButton     *toggle)
+{
+    gboolean track_active = gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(data->track_active_interface_cbox));
+
+    netstatus_iface_set_track_active_interface (data->iface, track_active );
+}
+
+
+static void
+netstatus_dialog_update_track_active_interface (NetstatusDialogData *data)
+{
+  GtkWidget *  widget;
+  gboolean     track_active = FALSE;
+
+  if ( data->track_active_interface_cbox == NULL ) 
+      return;
+
+  track_active = netstatus_iface_get_track_active_interface( data->iface );
+
+  gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(data->track_active_interface_cbox), track_active );
+
+  gtk_widget_set_sensitive(GTK_WIDGET(data->name), !track_active );
+
+}
+
+static void
+netstatus_dialog_update_configure_net_auto (NetstatusDialogData *data)
+{
+  GtkWidget *  widget;
+  gboolean     nwam_enabled = FALSE;
+
+  if ( data->configure_net_auto_cbox  == NULL ) 
+      return;
+  
+  nwam_enabled = netstatus_iface_network_config_is_nwam(data->iface );
+
+  data->configured_for_auto = nwam_enabled;
+
+  gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(data->configure_net_auto_cbox), nwam_enabled );
+
+  gtk_widget_set_sensitive(GTK_WIDGET(data->configure_button), !nwam_enabled );
+
+  gtk_widget_set_sensitive(GTK_WIDGET(data->configure_net_auto_cbox), TRUE);
+}
+
+static gboolean
+netstatus_dialog_ask_question(NetstatusDialogData *data, const char* message, const char* question )
+{
+  GtkWidget *dialog;
+  gint       result;
+  gboolean   ret_val = FALSE;
+
+  dialog = gtk_message_dialog_new (GTK_WINDOW (data->dialog),
+				   GTK_DIALOG_MODAL | GTK_DIALOG_DESTROY_WITH_PARENT,
+				   GTK_MESSAGE_QUESTION,
+				   GTK_BUTTONS_YES_NO,
+                   message );
+
+  if (question) {
+      gtk_message_dialog_format_secondary_text( dialog, question );
+  }
+
+  result = gtk_dialog_run (GTK_DIALOG (dialog));
+
+  switch (result) {
+    case GTK_RESPONSE_YES:
+        ret_val = TRUE;
+        break;
+    default:
+        break;
+  }
+
+  gtk_widget_destroy (dialog);
+
+  return( ret_val );
+}
+
+static void
+child_exit_cb(GPid pid, gint status, gpointer user_data)
+{
+    NetstatusDialogData *data = (NetstatusDialogData *)user_data;
+
+    netstatus_dialog_update_configure_net_auto(data);
+
+    g_spawn_close_pid( pid );
+}
+
+static void
+netstatus_dialog_switch_network_config_auto(NetstatusDialogData *data, gboolean automatic )
+{
+    static char*        switch_to_auto_command[] =  {"/usr/bin/network-admin", "--switch-to-auto", NULL };
+    static char*        switch_to_manual_command[] = { "/usr/bin/network-admin", "--switch-to-manual", NULL };
+
+    char**             command_line;
+    const char*        message;;
+    const char*        question;;
+    
+    if ( automatic ) {
+        command_line = switch_to_auto_command;
+        /* SUN_BRANDING */
+        message = _("You have selected that the network be automatically configured.");
+    }
+    else {
+        command_line = switch_to_manual_command;
+        /* SUN_BRANDING */
+        message = _("You have selected to manually configure the network..");
+    }
+
+    /* SUN_BRANDING */
+    question = _("This will cause your network to be restarted\nDo you wish to continue?");
+    if ( netstatus_dialog_ask_question(data, message, question ) ) {
+        gint child_pid;
+
+        if ( gdk_spawn_on_screen( gdk_screen_get_default(), 
+                NULL, command_line, NULL,
+                G_SPAWN_DO_NOT_REAP_CHILD,
+                NULL, NULL, &child_pid, NULL) ) {
+            g_child_watch_add( child_pid, child_exit_cb, data );
+
+            /* Set as insensitive until child exits */
+            gtk_widget_set_sensitive(GTK_WIDGET(data->configure_net_auto_cbox), FALSE);
+        }
+        else {
+            netstatus_dialog_update_configure_net_auto(data);
+        }
+    }
+    else {
+        netstatus_dialog_update_configure_net_auto(data);
+    }
+    
+    return;
+}
+
+static void
 netstatus_dialog_update_restart_button (NetstatusDialogData *data)
 {
   GtkWidget *  widget;
@@ -405,6 +566,14 @@ netstatus_dialog_iface_signal_strength_c
 }
 
 static void
+netstatus_dialog_iface_track_active_interface_changed(NetstatusIface      *iface,
+				     GParamSpec          *pspec,
+				     NetstatusDialogData *data)
+{
+    netstatus_dialog_update_track_active_interface( data );
+}
+
+static void
 netstatus_dialog_iface_name_changed (NetstatusIface      *iface,
 				     GParamSpec          *pspec,
 				     NetstatusDialogData *data)
@@ -804,6 +973,57 @@ netstatus_dialog_setup_configure_button 
 }
 
 static void
+netstatus_dialog_setup_track_active_interface (NetstatusDialogData *data,
+				   GladeXML            *xml)
+{
+  GtkWidget *cbox;
+  
+  cbox = glade_xml_get_widget (xml, "track_active_interface");
+
+  gtk_widget_show (cbox);
+
+  data->track_active_interface_cbox = cbox;
+
+  netstatus_dialog_update_track_active_interface(data);
+
+  g_signal_connect_swapped(GTK_TOGGLE_BUTTON (data->track_active_interface_cbox), "toggled",
+			    G_CALLBACK (netstatus_dialog_set_track_active_interface),
+			    data);
+
+}
+
+static void
+netstatus_dialog_set_configure_net_auto(NetstatusDialogData *data,
+				                        GtkToggleButton     *toggle)
+{
+    gboolean configure_net_auto = gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(data->configure_net_auto_cbox));
+
+    if ( configure_net_auto != data->configured_for_auto ) {
+        netstatus_dialog_switch_network_config_auto(data, configure_net_auto );
+    }
+}
+
+static void
+netstatus_dialog_setup_configure_net_auto (NetstatusDialogData *data,
+				   GladeXML            *xml)
+{
+  GtkWidget *cbox;
+  
+  cbox = glade_xml_get_widget (xml, "configure_net_auto_cb");
+
+  gtk_widget_show (cbox);
+
+  data->configure_net_auto_cbox = cbox;
+
+  netstatus_dialog_update_configure_net_auto(data);
+
+  g_signal_connect_swapped(GTK_TOGGLE_BUTTON (data->configure_net_auto_cbox), "toggled",
+			    G_CALLBACK (netstatus_dialog_set_configure_net_auto),
+			    data);
+
+}
+
+static void
 netstatus_dialog_setup_connection (NetstatusDialogData *data,
 				   GladeXML            *xml)
 {
@@ -844,6 +1064,11 @@ netstatus_dialog_setup_signal_strength_d
   data->signal_strength_frame = glade_xml_get_widget (xml, "signal_strength_frame");
   data->signal_strength_bar   = glade_xml_get_widget (xml, "signal_strength_bar");
   data->signal_strength_label = glade_xml_get_widget (xml, "signal_strength_label");
+  data->essid_value_label     = glade_xml_get_widget (xml, "essid_value_label");
+  data->bssid_value_label     = glade_xml_get_widget (xml, "bssid_value_label");
+  data->bss_mode_value_label  = glade_xml_get_widget (xml, "bss_mode_value_label");
+  data->auth_mode_value_label = glade_xml_get_widget (xml, "auth_mode_value_label");
+  data->security_value_label  = glade_xml_get_widget (xml, "security_value_label");
 
   netstatus_dialog_update_signal_strength (data);
 }
@@ -909,6 +1134,13 @@ netstatus_dialog_iface_list_monitor (Net
     g_free (l->data);
   g_list_free (iface_names);
 
+  /* Also check nwam status here  */
+  if ( GTK_IS_WIDGET(data->dialog) ) {
+      if ( GTK_WIDGET_VISIBLE(data->dialog) ) {
+          netstatus_dialog_update_configure_net_auto(data);
+      }
+  }
+
   return TRUE;
 }
 
@@ -1006,7 +1238,7 @@ netstatus_dialog_new (NetstatusIface *if
   data->dialog = glade_xml_get_widget (xml, "network_status_dialog");
   g_object_set_data (G_OBJECT (data->dialog), "netstatus-dialog-data", data);
 
-  gtk_window_set_icon_name(GTK_WINDOW (data->dialog), "gnome-netstatus-tx");	
+  gtk_window_set_icon_name(GTK_WINDOW (data->dialog), "network-transmit");	
 
   data->iface = g_object_ref (iface);
   netstatus_connect_signal_while_alive (data->iface,
@@ -1034,11 +1266,23 @@ netstatus_dialog_new (NetstatusIface *if
 					data->dialog);
 
   netstatus_connect_signal_while_alive (data->iface,
+					"notify::connected",
+					G_CALLBACK (netstatus_dialog_iface_signal_strength_changed),
+					data,
+					data->dialog);
+
+  netstatus_connect_signal_while_alive (data->iface,
 					"notify::signal-strength",
 					G_CALLBACK (netstatus_dialog_iface_signal_strength_changed),
 					data,
 					data->dialog);
 
+  netstatus_connect_signal_while_alive (data->iface,
+					"notify::track-active-inteface",
+					G_CALLBACK (netstatus_dialog_iface_track_active_interface_changed),
+					data,
+					data->dialog);
+  
   g_signal_connect (data->dialog, "response",
 		    G_CALLBACK (netstatus_dialog_response), NULL);
 
@@ -1046,11 +1290,13 @@ netstatus_dialog_new (NetstatusIface *if
 		    G_CALLBACK (netstatus_dialog_destroy), NULL);
 
   netstatus_dialog_setup_connection (data, xml);
+  netstatus_dialog_setup_track_active_interface (data, xml);
   netstatus_dialog_setup_activity (data, xml);
   netstatus_dialog_setup_signal_strength_details (data, xml);
   netstatus_dialog_setup_inet4_support (data, xml);
   netstatus_dialog_setup_device_support (data, xml);
   netstatus_dialog_setup_configure_button (data, xml);
+  netstatus_dialog_setup_configure_net_auto (data, xml);
   netstatus_dialog_setup_restart_tab (data, xml);
 
   data->iface_list_monitor = g_timeout_add (2 * 1000,



diff -up gnome-netstatus-2.12.1/src/netstatus-iface.c-clean gnome-netstatus-2.12.1/src/netstatus-iface.c
--- gnome-netstatus-2.12.1/src/netstatus-iface.c-clean	2008-08-19 13:17:40.000000000 +0100
+++ gnome-netstatus-2.12.1/src/netstatus-iface.c	2008-09-26 20:31:29.002750149 +0100
@@ -1,5 +1,6 @@
 /*
  * Copyright (C) 2003-2004 Sun Microsystems, Inc.
+ *
  * Copyright (C) 2004 Red Hat Inc.
  *
  * This program is free software; you can redistribute it and/or
@@ -50,6 +51,8 @@
 #include <unistd.h>
 #include <string.h>
 
+#include <libscf.h>
+
 #include "netstatus-sysdeps.h"
 #include "netstatus-enums.h"
 
@@ -60,6 +63,17 @@
 #define NETSTATUS_IFACE_RESTART_SCRIPT_TESTFLAGS (G_FILE_TEST_EXISTS | G_FILE_TEST_IS_SYMLINK | G_FILE_TEST_IS_EXECUTABLE)
 static const gchar * NETSTATUS_IFACE_RESTART_SCRIPT = "/usr/bin/ifrestart";
 
+#include <gconf/gconf-client.h>
+
+#define NWAM_AUTOMATIC_SELECTION_STRING ("Automatic Selection")
+#define NWAM_AUTOMATIC_ROOT_KEY "/apps/nwam-manager"
+#define NWAM_AUTOMATIC_ACTIVE_INTERFACE_KEY NWAM_AUTOMATIC_ROOT_KEY "/active_interface"
+
+static void gconf_notify_cb (GConfClient *client,
+  guint cnxn_id,
+  GConfEntry *entry,
+  gpointer user_data);
+
 enum
 {
   PROP_0,
@@ -68,6 +82,14 @@ enum
   PROP_STATS,
   PROP_WIRELESS,
   PROP_SIGNAL_STRENGTH,
+  PROP_ESSID,
+  PROP_BSSID,
+  PROP_BSS_MODE,
+  PROP_MODE,
+  PROP_CONNECTED,
+  PROP_SECURITY,
+  PROP_AUTH_MODE,
+  PROP_TRACK_ACTIVE_INTERFACE,
   PROP_ERROR
 };
 
@@ -83,9 +105,18 @@ struct _NetstatusIfacePrivate
 
   NetstatusState  state;
   NetstatusStats  stats;
-  int             signal_strength;
   GError         *error;
 
+  
+  gboolean        connected;
+  char           *essid;
+  char           *bssid;
+  char           *bss_mode;
+  char           *mode;
+  char           *security;
+  char           *auth_mode;
+  int             signal_strength;
+
   int             sockfd;
   guint           monitor_id;
 
@@ -98,6 +129,12 @@ struct _NetstatusIfacePrivate
   GIOChannel     *restart_outioc;
   GIOChannel     *restart_errioc;
   guint           restart_cwsource;
+
+  GConfClient   *client;
+  gchar          *active_interface;
+  guint           gconf_notify_id;
+  gboolean        track_active_interface;
+  gboolean        configured_for_nwam;
 };
 
 static void     netstatus_iface_instance_init   (NetstatusIface      *iface,
@@ -147,19 +184,102 @@ netstatus_iface_get_type (void)
   return type;
 }
 
+static void gconf_notify_cb (GConfClient *client,
+  guint cnxn_id,
+  GConfEntry *entry,
+  gpointer user_data)
+{
+    NetstatusIface *iface = NETSTATUS_IFACE(user_data);
+    const char *key;
+    GConfValue *value;
+    
+    key = gconf_entry_get_key (entry);
+    value = gconf_entry_get_value (entry);
+    
+    if (g_ascii_strcasecmp (key, NWAM_AUTOMATIC_ACTIVE_INTERFACE_KEY) == 0) {
+      const char *new_iface = gconf_value_get_string (value);
+
+      if (iface->priv->active_interface != NULL ) {
+        g_free(iface->priv->active_interface);
+      }
+      iface->priv->active_interface = g_strdup(new_iface);
+
+      if ( iface->priv->track_active_interface ) {
+          if ( iface->priv->active_interface != NULL && strlen(iface->priv->active_interface)> 0 ) {
+            netstatus_iface_set_name( iface, iface->priv->active_interface );
+          }
+          else if ( !iface->priv->configured_for_nwam ) {
+              netstatus_iface_find_active_interface(iface);
+          }
+      }
+    }
+}
+
+gboolean
+netstatus_iface_network_config_is_nwam(NetstatusIface *iface )
+{
+    gboolean retval = FALSE;
+    gchar   *output = NULL;
+
+    if ( (output = smf_get_state("svc:/network/physical:nwam")) != NULL ) {
+        char *stripped = g_strstrip(output);
+
+        /* Not in state disabled */
+        if ( stripped != NULL && 
+             strncmp( stripped, SCF_STATE_STRING_DISABLED, strlen(SCF_STATE_STRING_DISABLED) ) != 0 ) {
+            retval = TRUE;
+        }
+        g_free(output);
+    }
+
+    iface->priv->configured_for_nwam = retval;
+
+    return( retval );
+}
+
+static const char*
+netstatus_iface_get_nwam_active_interface(NetstatusIface      *iface )
+{
+    return iface->priv->active_interface?iface->priv->active_interface:"";
+}
 
 static void
 netstatus_iface_instance_init (NetstatusIface      *iface,
 			       NetstatusIfaceClass *klass)
 {
+  GError *err = NULL;
+
   iface->priv = g_new0 (NetstatusIfacePrivate, 1);
   
   iface->priv->state = NETSTATUS_STATE_DISCONNECTED;
 
+  iface->priv->track_active_interface = FALSE;
+
+  iface->priv->active_interface = NULL;
+
+  iface->priv->client = gconf_client_get_default ();
+
+  iface->priv->gconf_notify_id = gconf_client_notify_add (iface->priv->client,
+      NWAM_AUTOMATIC_ROOT_KEY,
+      gconf_notify_cb,
+      (gpointer) iface,
+      NULL,
+      NULL);
+
+  gconf_client_add_dir (iface->priv->client,
+      NWAM_AUTOMATIC_ROOT_KEY,
+      GCONF_CLIENT_PRELOAD_ONELEVEL,
+      NULL);
+
+  iface->priv->active_interface = gconf_client_get_string (iface->priv->client, NWAM_AUTOMATIC_ACTIVE_INTERFACE_KEY, &err);
+
   iface->priv->restart_status  = -1;    /* never restarted */
   iface->priv->restart_output  = NULL;
   iface->priv->restart_outioc  = NULL;
   iface->priv->restart_errioc  = NULL;
+
+  (void)netstatus_iface_network_config_is_nwam( iface );
+
 }
 
 static void
@@ -207,6 +327,86 @@ netstatus_iface_class_init (NetstatusIfa
 							 G_PARAM_READABLE));
 
   g_object_class_install_property (gobject_class,
+				   PROP_TRACK_ACTIVE_INTERFACE,
+				   g_param_spec_boolean ("track_active_interface",
+							 /* SUN_BRANDING */
+							 _("Track Active Interface"),
+							 /* SUN_BRANDING */
+							 _("Whether to track the system's active interface"),
+							 FALSE,
+							G_PARAM_READWRITE | G_PARAM_CONSTRUCT));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_ESSID,
+				   g_param_spec_string ("essid",
+						     /* SUN_BRANDING */
+						     _("ESSID"),
+						     /* SUN_BRANDING */
+						     _("Wireless ESSID"),
+						     NULL,
+						     G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_BSSID,
+				   g_param_spec_string ("bssid",
+						     /* SUN_BRANDING */
+						     _("BSSID"),
+						     /* SUN_BRANDING */
+						     _("Wireless BSSID"),
+						     NULL,
+						     G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_BSS_MODE,
+				   g_param_spec_string ("bss_mode",
+						     /* SUN_BRANDING */
+						     _("BSS_MODE"),
+						     /* SUN_BRANDING */
+						     _("Wireless BSS_Mode"),
+						     NULL,
+						     G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_CONNECTED,
+				   g_param_spec_boolean ("connected",
+							 /* SUN_BRANDING */
+							 _("Wireless CONNECTED"),
+							 /* SUN_BRANDING */
+							 _("Whether the interface is connected"),
+							 FALSE,
+							 G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_MODE,
+				   g_param_spec_string ("mode",
+						     /* SUN_BRANDING */
+						     _("MODE"),
+						     /* SUN_BRANDING */
+						     _("Wireless MODE"),
+						     NULL,
+						     G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_SECURITY,
+				   g_param_spec_string ("security",
+						     /* SUN_BRANDING */
+						     _("SECURITY"),
+						     /* SUN_BRANDING */
+						     _("Wireless SECURITY"),
+						     NULL,
+						     G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
+				   PROP_AUTH_MODE,
+				   g_param_spec_string ("auth_mode",
+						     /* SUN_BRANDING */
+						     _("AUTH_MODE"),
+						     /* SUN_BRANDING */
+						     _("Wireless AUTH_MODE"),
+						     NULL,
+						     G_PARAM_READABLE));
+
+  g_object_class_install_property (gobject_class,
 				   PROP_SIGNAL_STRENGTH,
 				   g_param_spec_int ("signal-strength",
 						     _("Signal"),
@@ -239,6 +439,10 @@ netstatus_iface_finalize (GObject *objec
 {
   NetstatusIface *iface = (NetstatusIface *) object;
 
+  if (iface->priv->gconf_notify_id) {
+    gconf_client_notify_remove (iface->priv->client, iface->priv->gconf_notify_id);
+  }
+
   if (iface->priv->error)
     g_error_free (iface->priv->error);
   iface->priv->error = NULL;
@@ -254,6 +458,24 @@ netstatus_iface_finalize (GObject *objec
   g_free (iface->priv->name);
   iface->priv->name = NULL;
 
+  g_free (iface->priv->essid);
+  iface->priv->essid = NULL;
+
+  g_free (iface->priv->bssid);
+  iface->priv->bssid = NULL;
+
+  g_free (iface->priv->bss_mode);
+  iface->priv->bss_mode = NULL;
+
+  g_free (iface->priv->mode);
+  iface->priv->mode = NULL;
+
+  g_free (iface->priv->security);
+  iface->priv->security = NULL;
+
+  g_free (iface->priv->auth_mode);
+  iface->priv->auth_mode = NULL;
+
   netstatus_iface_restart_collect_output (iface);
   if (iface->priv->restart_output != NULL)
     g_free (iface->priv->restart_output);
@@ -278,6 +500,9 @@ netstatus_iface_set_property (GObject   
     case PROP_NAME:
       netstatus_iface_set_name (iface, g_value_get_string (value));
       break;
+    case PROP_TRACK_ACTIVE_INTERFACE:
+      netstatus_iface_set_track_active_interface(iface, g_value_get_boolean (value));
+      break;
     case PROP_ERROR:
       netstatus_iface_set_error (iface, g_value_get_boxed (value));
       break;
@@ -309,9 +534,33 @@ netstatus_iface_get_property (GObject   
     case PROP_WIRELESS:
       g_value_set_boolean (value, iface->priv->is_wireless);
       break;
+    case PROP_TRACK_ACTIVE_INTERFACE:
+      g_value_set_boolean (value, iface->priv->track_active_interface);
+      break;
+    case PROP_ESSID:
+      g_value_set_string (value, iface->priv->essid);
+      break;
     case PROP_SIGNAL_STRENGTH:
       g_value_set_int (value, iface->priv->signal_strength);
       break;
+    case PROP_BSSID:
+      g_value_set_string (value, iface->priv->bssid);
+      break;
+    case PROP_BSS_MODE:
+      g_value_set_string (value, iface->priv->bss_mode);
+      break;
+    case PROP_MODE:
+      g_value_set_string (value, iface->priv->mode);
+      break;
+    case PROP_CONNECTED:
+      g_value_set_boolean (value, iface->priv->connected);
+      break;
+    case PROP_SECURITY:
+      g_value_set_string (value, iface->priv->security);
+      break;
+    case PROP_AUTH_MODE:
+      g_value_set_string (value, iface->priv->auth_mode);
+      break;
     case PROP_ERROR:
       g_value_set_boxed (value, iface->priv->error);
     default:
@@ -387,6 +636,14 @@ netstatus_iface_get_is_wireless (Netstat
   return iface->priv->is_wireless;
 }
 
+gboolean
+netstatus_iface_get_is_connected (NetstatusIface *iface)
+{
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), FALSE);
+
+  return iface->priv->connected;
+}
+
 int
 netstatus_iface_get_signal_strength (NetstatusIface *iface)
 {
@@ -395,6 +652,116 @@ netstatus_iface_get_signal_strength (Net
   return iface->priv->signal_strength;
 }
 
+G_CONST_RETURN char *
+netstatus_iface_get_essid (NetstatusIface *iface)
+{
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), 0);
+
+  return iface->priv->essid;
+}
+
+G_CONST_RETURN char *
+netstatus_iface_get_bssid (NetstatusIface *iface)
+{
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), 0);
+
+  return iface->priv->bssid;
+}
+
+G_CONST_RETURN char *
+netstatus_iface_get_bss_mode (NetstatusIface *iface)
+{
+  const char*   bss_mode = NULL;
+
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), bss_mode );
+  
+  if ( iface->priv->bss_mode == NULL ) {
+      return( bss_mode );
+  }
+  
+  if ( strcmp( iface->priv->bss_mode, "bss") == 0 ) {
+      /* SUN_BRANDING */
+      bss_mode = _("Infrastructure");
+  }
+  else
+  if ( strcmp( iface->priv->bss_mode, "ibss") == 0 ) {
+      /* SUN_BRANDING */
+      bss_mode = _("Computer-to-Computer (Ad Hoc)");
+  }
+  else  if ( strcmp( iface->priv->bss_mode, "any") == 0 ) {
+      /* SUN_BRANDING */
+      bss_mode = _("Any");
+  }
+
+
+  return bss_mode; 
+}
+
+G_CONST_RETURN char *
+netstatus_iface_get_mode (NetstatusIface *iface)
+{
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), 0);
+
+  return iface->priv->mode;
+}
+
+G_CONST_RETURN char *
+netstatus_iface_get_security (NetstatusIface *iface)
+{
+  const char*   security = NULL;
+
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), 0);
+
+  if ( iface->priv->security == NULL ) {
+      return( security );
+  }
+
+  if ( strcmp( iface->priv->security, "none") == 0 ) {
+      /* SUN_BRANDING */
+      security = _("None");
+  }
+  else
+  if ( strcmp( iface->priv->security, "wep") == 0 ) {
+      security = "WEP";
+  }
+  else
+  if ( strcmp( iface->priv->security, "wpa") == 0 ) {
+      security = "WPA";
+  }
+  else {
+      security = iface->priv->security;
+  }
+
+  return security;
+}
+
+G_CONST_RETURN char *
+netstatus_iface_get_auth_mode (NetstatusIface *iface)
+{
+  const char*   auth_mode = NULL;
+
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), 0);
+
+  if ( iface->priv->auth_mode == NULL ) {
+      return( auth_mode );
+  }
+
+  if ( strcmp( iface->priv->auth_mode, "open") == 0 ) {
+      /* SUN_BRANDING */
+      auth_mode = _("Open");
+  }
+  else
+  if ( strcmp( iface->priv->auth_mode, "shared") == 0 ) {
+      /* SUN_BRANDING */
+      auth_mode = _("Shared");
+  }
+  else {
+      auth_mode = iface->priv->auth_mode;
+  }
+
+  return auth_mode;
+}
+
 void
 netstatus_iface_set_error (NetstatusIface *iface,
 			   const GError   *error)
@@ -591,14 +958,57 @@ netstatus_iface_poll_state (NetstatusIfa
 
 static gboolean
 netstatus_iface_poll_wireless_details (NetstatusIface *iface,
-				       int            *signal_strength)
+				       int            *signal_strength,
+                       gboolean       *connected,
+                       char          **essid,
+                       char          **bssid,
+                       char          **bss_mode,
+                       char          **mode,
+                       char          **security,
+                       char          **auth_mode )
 {
   char     *error_message;
   gboolean  is_wireless;
+#if defined(__sun)
+  wifi_info_t*  wi = netstatus_sysdeps_read_iface_wireless_details (iface->priv->name);
+
+  if ( wi != NULL ) {
+    is_wireless = TRUE;
+    if ( signal_strength )
+      *signal_strength = wi->signal_strength;
+
+    if ( connected )
+      *connected = wi->connected;
 
+    if ( essid ) {
+      *essid = g_strdup( wi->essid );
+    }
+    if ( bssid ) {
+      *bssid = g_strdup( wi->bssid );
+    }
+    if ( bss_mode ) {
+      *bss_mode = g_strdup( wi->bss_mode );
+    }
+    if ( mode ) {
+      *mode = g_strdup( wi->mode );
+    }
+    if ( security ) {
+      *security = g_strdup( wi->security );
+    }
+    if ( auth_mode ) {
+      *auth_mode = g_strdup( wi->auth_mode );
+    }
+    netstatus_wifi_info_free(wi);
+  }
+  else {
+    is_wireless = FALSE;
+  }
+#else 
   error_message = netstatus_sysdeps_read_iface_wireless_details (iface->priv->name,
 								 &is_wireless,
-								 signal_strength);
+								 signal_strength,
+                                 essid,
+                                 max_essid_len );
 
   if (error_message)
     {
@@ -612,6 +1022,7 @@ netstatus_iface_poll_wireless_details (N
 
   netstatus_iface_clear_error (iface, NETSTATUS_ERROR_WIRELESS_DETAILS);
 
+#endif
   return is_wireless;
 }
 
@@ -649,12 +1060,21 @@ netstatus_iface_increase_poll_delay_in_e
     }
 }
 
+#define MAX_ESSID_LEN   128
+
 static gboolean
 netstatus_iface_monitor_timeout (NetstatusIface *iface)
 {
   NetstatusState state;
   int            signal_strength;
-  gboolean       is_wireless;
+  char          *essid = NULL;
+  char          *bssid = NULL;
+  char          *bss_mode = NULL;
+  gboolean       connected = FALSE;       
+  char          *mode = NULL;
+  char          *security = NULL;
+  char          *auth_mode = NULL;
+  gboolean       is_wireless = NULL;
  
   state = netstatus_iface_poll_state (iface);
 
@@ -665,19 +1085,118 @@ netstatus_iface_monitor_timeout (Netstat
       g_object_notify (G_OBJECT (iface), "state");
     }
 
-  is_wireless = netstatus_iface_poll_wireless_details (iface, &signal_strength);
+  if ( !iface->priv->configured_for_nwam &&
+       (state == NETSTATUS_STATE_DISCONNECTED || state == NETSTATUS_STATE_ERROR) ) {
+    /* Look for another interface it tracking active i/f  */
+    netstatus_iface_find_active_interface (iface);
+  }
+
+  is_wireless = netstatus_iface_poll_wireless_details (iface, &signal_strength, &connected, &essid,
+                                                       &bssid, &bss_mode, &mode, &security, &auth_mode );
   if (iface->priv->is_wireless != is_wireless)
     {
       iface->priv->is_wireless = is_wireless;
       g_object_notify (G_OBJECT (iface), "wireless");
     }
 
-  if (iface->priv->signal_strength != signal_strength)
-    {
-      iface->priv->signal_strength = signal_strength;
-      g_object_notify (G_OBJECT (iface), "signal-strength");
+  if ( is_wireless ) {
+      if (iface->priv->connected != connected)
+        {
+          iface->priv->connected = connected;
+          g_object_notify (G_OBJECT (iface), "connected");
+        }
+
+    if (iface->priv->signal_strength != signal_strength)
+      {
+        iface->priv->signal_strength = signal_strength;
+        g_object_notify (G_OBJECT (iface), "signal-strength");
+      }
+
+    if (iface->priv->essid == NULL || 
+        ( essid != NULL && strcmp(iface->priv->essid, essid ) != 0 ) )
+      {
+        if ( iface->priv->essid != NULL )
+            g_free(iface->priv->essid);
+
+        iface->priv->essid = essid;
+
+        g_object_notify (G_OBJECT (iface), "essid");
+      }
+    else if ( essid ) {
+      g_free(essid);
     }
 
+    if (iface->priv->bssid == NULL || 
+        ( bssid != NULL && strcmp(iface->priv->bssid, bssid ) != 0 ) )
+      {
+        if ( iface->priv->bssid != NULL )
+            g_free(iface->priv->bssid);
+
+        iface->priv->bssid = bssid;
+
+        g_object_notify (G_OBJECT (iface), "bssid");
+      }
+    else if ( bssid ) {
+      g_free(bssid);
+    }
+
+    if (iface->priv->bss_mode == NULL || 
+        ( bss_mode != NULL && strcmp(iface->priv->bss_mode, bss_mode ) != 0 ) )
+      {
+        if ( iface->priv->bss_mode != NULL )
+            g_free(iface->priv->bss_mode);
+
+        iface->priv->bss_mode = bss_mode;
+
+        g_object_notify (G_OBJECT (iface), "bss_mode");
+      }
+    else if ( bss_mode ) {
+      g_free(bss_mode);
+    }
+
+    if (iface->priv->mode == NULL || 
+        ( mode != NULL && strcmp(iface->priv->mode, mode ) != 0 ) )
+      {
+        if ( iface->priv->mode != NULL )
+            g_free(iface->priv->mode);
+
+        iface->priv->mode = mode;
+
+        g_object_notify (G_OBJECT (iface), "mode");
+      }
+    else if ( mode ) {
+      g_free(mode);
+    }
+
+    if (iface->priv->security == NULL || 
+        ( security != NULL && strcmp(iface->priv->security, security ) != 0 ) )
+      {
+        if ( iface->priv->security != NULL )
+            g_free(iface->priv->security);
+
+        iface->priv->security = security;
+
+        g_object_notify (G_OBJECT (iface), "security");
+      }
+    else if ( security ) {
+      g_free(security);
+    }
+
+    if (iface->priv->auth_mode == NULL || 
+        ( auth_mode != NULL && strcmp(iface->priv->auth_mode, auth_mode ) != 0 ) )
+      {
+        if ( iface->priv->auth_mode != NULL )
+            g_free(iface->priv->auth_mode);
+
+        iface->priv->auth_mode = auth_mode;
+
+        g_object_notify (G_OBJECT (iface), "auth_mode");
+      }
+    else if ( auth_mode ) {
+      g_free(auth_mode);
+    }
+  }
+
   netstatus_iface_increase_poll_delay_in_error (iface);
   
   return TRUE;
@@ -691,12 +1210,20 @@ netstatus_iface_init_monitor (NetstatusI
   iface->priv->stats.in_bytes    = 0;
   iface->priv->stats.out_bytes   = 0;
   iface->priv->signal_strength   = 0;
+  iface->priv->essid  = NULL;
   iface->priv->is_wireless       = FALSE;
+  iface->priv->connected = FALSE;
+  iface->priv->bssid = NULL;
+  iface->priv->bss_mode = NULL;
+  iface->priv->mode = NULL;
+  iface->priv->security = NULL;
+  iface->priv->auth_mode = NULL;
 
   g_object_freeze_notify (G_OBJECT (iface));
   g_object_notify (G_OBJECT (iface), "state");
   g_object_notify (G_OBJECT (iface), "wireless");
   g_object_notify (G_OBJECT (iface), "signal-strength");
+  g_object_notify (G_OBJECT (iface), "essid");
   g_object_thaw_notify (G_OBJECT (iface));
 
   if (iface->priv->monitor_id)
@@ -1230,6 +1757,7 @@ netstatus_list_interface_names (GError *
 
   struct ifconf *if_conf;
   GList         *interfaces;
+  GList         *point_to_points;
   GList         *loopbacks;
   char          *p;
   int            fd;
@@ -1252,11 +1780,13 @@ netstatus_list_interface_names (GError *
 
   interfaces = NULL;
   loopbacks  = NULL;
+  point_to_points = NULL;
 
   for (p = if_conf->ifc_buf; p < if_conf->ifc_buf + if_conf->ifc_len;)
     {
       struct ifreq *if_req = (struct ifreq *) p;
       gboolean      loopback = FALSE;
+      gboolean      p2p = FALSE;
 
       p += sizeof (if_req->ifr_name) + NETSTATUS_SA_LEN (&if_req->ifr_addr);
 
@@ -1271,16 +1801,21 @@ netstatus_list_interface_names (GError *
       else
 	{
 	  loopback = (if_req->ifr_flags & IFF_LOOPBACK);
+          p2p = (if_req->ifr_flags & IFF_POINTOPOINT);
 	}
 
-      if (!loopback)
-	interfaces = netstatus_list_insert_unique (interfaces,
+      if (loopback)
+	loopbacks  = netstatus_list_insert_unique (loopbacks,
+						   g_strdup (if_req->ifr_name));
+      else if (p2p)
+	point_to_points  = netstatus_list_insert_unique (point_to_points,
 						   g_strdup (if_req->ifr_name));
       else
-	loopbacks  = netstatus_list_insert_unique (loopbacks,
+	interfaces = netstatus_list_insert_unique (interfaces,
 						   g_strdup (if_req->ifr_name));
     }
 
+  interfaces = g_list_concat (interfaces, point_to_points );
   interfaces = g_list_concat (interfaces, loopbacks);
 
   g_free (if_conf->ifc_buf);
@@ -1512,3 +2047,104 @@ netstatus_iface_restart_interrupt (Netst
 
   kill (iface->priv->restart_pid, SIGKILL);
 }
+
+gboolean
+netstatus_iface_get_track_active_interface (NetstatusIface  *iface)
+{
+  gboolean track_active = FALSE;
+
+  g_return_val_if_fail (iface != NULL, track_active );
+  g_return_val_if_fail (NETSTATUS_IS_IFACE (iface), track_active );
+  g_return_val_if_fail (iface->priv != NULL, track_active );
+
+  track_active = iface->priv->track_active_interface;
+
+  return( track_active );
+}
+
+void
+netstatus_iface_set_track_active_interface (NetstatusIface  *iface, gboolean track_active )
+{
+  g_return_if_fail (iface != NULL);
+  g_return_if_fail (NETSTATUS_IS_IFACE (iface));
+  g_return_if_fail (iface->priv != NULL);
+
+  if ( iface->priv->track_active_interface != track_active ) {
+      iface->priv->track_active_interface = track_active;
+
+      if ( track_active ) {
+          if ( iface->priv->active_interface != NULL && strlen(iface->priv->active_interface)> 0 ) {
+            netstatus_iface_set_name( iface, iface->priv->active_interface );
+          }
+          else {
+              netstatus_iface_find_active_interface(iface);
+          }
+      }
+
+      g_object_notify (G_OBJECT (iface), "track_active_interface");
+  }
+}
+
+static void
+netstatus_iface_find_active_interface (NetstatusIface  *iface )
+{
+  GError *error = NULL;
+  GList  *iface_names;
+  gchar  *iface_name = NULL;
+
+  g_return_if_fail (iface != NULL);
+  g_return_if_fail (NETSTATUS_IS_IFACE (iface));
+  g_return_if_fail (iface->priv != NULL);
+
+  if (!iface->priv->track_active_interface)
+      return;
+
+  iface_names = netstatus_list_interface_names (&error);
+
+  if (iface_names)
+    {
+      GList *l;
+      gulong in_packets, out_packets;
+      gulong in_bytes, out_bytes;
+      char *error_message;
+      /* 
+       * Find first non error interface.
+       */
+      for (l = iface_names; l; l = l->next) {
+        if ( l->data && strncmp(l->data, "lo", 2) &&
+            (error_message = netstatus_sysdeps_read_iface_statistics (l->data,
+             &in_packets, &out_packets, &in_bytes, &out_bytes)) == NULL ) {
+            gchar *old_name = iface->priv->name;
+
+            /* Temporarily set the name, but don't use set_name function
+             * since it would signal a notification which we don't want here.
+             */
+            iface->priv->name = l->data;
+            NetstatusState state = netstatus_iface_poll_state (iface);
+            iface->priv->name = old_name;
+
+            if ( state != NETSTATUS_STATE_DISCONNECTED &&
+                 state != NETSTATUS_STATE_ERROR ) {
+                /* Success !! make this the iface_name */
+                iface_name = l->data;
+                break;
+            }
+        } else if (error_message != NULL ) {
+            g_free (error_message);
+        }
+      }
+
+      for (l = iface_names; l; l = l->next) {
+        /* Only free non used names */
+        if (iface_name == NULL || strcmp(l->data, iface_name)) {
+          g_free (l->data);
+        }
+      }
+      g_list_free (iface_names);
+
+      if ( iface_name ) {
+          netstatus_iface_set_name( iface, iface_name );
+          g_free( iface_name );
+      }
+    }
+}



diff -up gnome-netstatus-2.12.1/src/netstatus-iface.h-clean gnome-netstatus-2.12.1/src/netstatus-iface.h
--- gnome-netstatus-2.12.1/src/netstatus-iface.h-clean	2008-08-19 13:17:40.000000000 +0100
+++ gnome-netstatus-2.12.1/src/netstatus-iface.h	2008-09-17 20:19:47.791864324 +0100
@@ -73,6 +73,13 @@ void                   netstatus_iface_g
 							      NetstatusStats  *stats);
 gboolean               netstatus_iface_get_is_wireless       (NetstatusIface  *iface);
 int                    netstatus_iface_get_signal_strength   (NetstatusIface  *iface);
+gboolean               netstatus_iface_get_is_connected      (NetstatusIface  *iface);
+G_CONST_RETURN char *  netstatus_iface_get_essid             (NetstatusIface  *iface);
+G_CONST_RETURN char *  netstatus_iface_get_bssid             (NetstatusIface  *iface);
+G_CONST_RETURN char *   netstatus_iface_get_bss_mode         (NetstatusIface *iface);
+G_CONST_RETURN char *  netstatus_iface_get_mode              (NetstatusIface  *iface);
+G_CONST_RETURN char *  netstatus_iface_get_security          (NetstatusIface  *iface);
+G_CONST_RETURN char *  netstatus_iface_get_auth_mode         (NetstatusIface  *iface);
 
 void                   netstatus_iface_set_error             (NetstatusIface  *iface,
 							      const GError    *error);
@@ -97,6 +104,11 @@ gint                   netstatus_iface_r
 G_CONST_RETURN gchar * netstatus_iface_restart_get_output (NetstatusIface  *iface);
 void                   netstatus_iface_restart_interrupt (NetstatusIface  *iface);
 
+gboolean               netstatus_iface_get_track_active_interface (NetstatusIface  *iface);
+void                   netstatus_iface_set_track_active_interface (NetstatusIface  *iface, gboolean track_active );
+void                   netstatus_iface_find_active_interface (NetstatusIface  *iface );
+gboolean               netstatus_iface_network_config_is_nwam(NetstatusIface *iface );
+
 G_END_DECLS
 
 #endif /* __NETSTATUS_IFACE_H__ */


diff -up gnome-netstatus-2.12.2/src/netstatus-sysdeps.c-clean gnome-netstatus-2.12.2/src/netstatus-sysdeps.c
--- gnome-netstatus-2.12.2/src/netstatus-sysdeps.c-clean	2008-11-05 11:35:20.000000000 +0000
+++ gnome-netstatus-2.12.2/src/netstatus-sysdeps.c	2008-11-06 11:30:32.186669791 +0000
@@ -37,6 +37,7 @@
 
 #ifdef HAVE_SOLARIS
 #include <kstat.h>
+#include <stdlib.h>
 #endif
 
 #ifdef __FreeBSD__
@@ -441,21 +442,176 @@ netstatus_sysdeps_read_iface_statistics 
   return NULL;
 }
 
-char *
-netstatus_sysdeps_read_iface_wireless_details (const char *iface,
-					       gboolean   *is_wireless,
-					       int        *signal_strength)
+typedef struct {
+  gboolean      started;
+  GPid          pid;
+  gint          standard_input;
+  gint          standard_output;
+  gint          standard_error;
+  FILE*         in;
+  FILE*         out; 
+  FILE*         err;
+} child_info_t;
+
+static child_info_t child_info = { FALSE, 0, -1, -1, -1, NULL, NULL, NULL };
+
+static void
+child_watch_func( GPid pid, gint status, gpointer data)
 {
+    child_info_t* info = (child_info_t*)data;
+
+    g_return_if_fail( info != NULL );
+
+    fclose( info->in );
+    fclose( info->out );
+    fclose( info->err );
+
+    memset( info, 0, sizeof( child_info_t ) );
+
+    info->started = FALSE;
+}
+
+char *
+read_wireless_info( const char *iface ) {
+  static  char         *child_argv[] = { 
+                                  "/usr/bin/pfexec",
+                                  "/usr/lib/gnome-netstatus-wifi-info",
+                                  NULL
+                               };
+
+  if ( iface == NULL ) {
+    return ( NULL );
+  }
+
+  if ( ! child_info.started ) {
+    child_info.started = g_spawn_async_with_pipes( NULL, child_argv, NULL, G_SPAWN_DO_NOT_REAP_CHILD, NULL, 
+                                                   NULL, &child_info.pid, &child_info.standard_input, 
+                                                   &child_info.standard_output, &child_info.standard_error, NULL);
+
+    if ( child_info.started ) {
+      g_child_watch_add(child_info.pid, child_watch_func, &child_info);
+      child_info.in = fdopen( child_info.standard_input, "w");
+      setbuf(child_info.in, NULL);
+      child_info.out = fdopen( child_info.standard_output, "r");
+      setbuf(child_info.out, NULL);
+      child_info.err = fdopen( child_info.standard_error, "r");
+      setbuf(child_info.err, NULL);
+    }
+  }
+
+  if ( child_info.started ) {
+    char buf[1024];
+    int  n;
+
+    fprintf( child_info.in, "%s\n", iface );
+
+    if ( fgets( buf, 1024, child_info.out ) == NULL ) {
+      return(NULL);
+    }
+
+    return( g_strdup( buf ) );
+  }
+
+  return (NULL);
+}
+
+wifi_info_t* 
+netstatus_wifi_info_new(   char       *essid,
+                           gboolean    connected,
+                           char       *bssid,
+                           char       *bss_mode,
+                           int         signal_strength,
+                           char       *mode,
+                           char       *security,
+                           char       *auth_mode )
+{
+    wifi_info_t* wi = g_new0( wifi_info_t, 1 );
+
+    wi->essid = g_strdup(essid?essid:"");
+    wi->connected = connected;
+    wi->bssid = g_strdup(bssid?bssid:"");
+    wi->bss_mode = g_strdup(bss_mode?bss_mode:"");
+    wi->signal_strength = signal_strength;
+    wi->mode = g_strdup(mode?mode:"");
+    wi->security = g_strdup(security?security:"");
+    wi->auth_mode = g_strdup(auth_mode?auth_mode:"");
+   
+    return( wi );
+}
+
+void
+netstatus_wifi_info_free( wifi_info_t * wi )
+{
+    g_return_if_fail( wi != NULL );
+
+    if ( wi->essid )
+        g_free(wi->essid);
+    if ( wi->bssid )
+        g_free(wi->bssid);
+    if ( wi->bss_mode )
+        g_free(wi->bss_mode);
+    if ( wi->mode )
+        g_free(wi->mode);
+    if ( wi->security )
+        g_free(wi->security);
+    if ( wi->auth_mode )
+        g_free(wi->auth_mode);
+
+    g_free(wi);
+}
+
+wifi_info_t *
+netstatus_sysdeps_read_iface_wireless_details (const char *iface)
+{
+  gchar*        str = NULL;
+  wifi_info_t  *wi = NULL;
+  gboolean      is_wireless = FALSE;
+
   g_return_val_if_fail (iface != NULL, NULL);
-  g_return_val_if_fail (is_wireless != NULL, NULL);
-  g_return_val_if_fail (signal_strength != NULL, NULL);
-                                                                                
-  if (is_wireless)
-    *is_wireless = FALSE;
-  if (signal_strength)
-    *signal_strength = 0;
+
+  if ( (str = read_wireless_info( iface )) == NULL ) {
+    /* Not wireless, return NULL */
+    return NULL;
+  }
+  else {
+    gchar** fields = g_strsplit_set( g_strchomp(str), ";", 10 );
+
+    is_wireless = (fields[1] != NULL && fields[1][0] == '1')?TRUE:FALSE;
+
+    if ( is_wireless ) {
+      gboolean  connected = (fields[2] != NULL && fields[2][0] == '1')?TRUE:FALSE;
+      char     *essid = fields[3];
+      int       signal_strength = (fields[4] != NULL)?atoi(fields[4]):0;
+      char     *mode = fields[5];
+      char     *bssid = fields[6];
+      char     *bss_mode = fields[7];
+      char     *security = fields[8];
+      char     *auth_mode = fields[9];
+
+      /* Using the Linux code above, log() will provide a smoother
+       * transition between signal strengths than simple division */
+      /* *signal_strength = ((*signal_strength * 100) / 15 ); */
+      signal_strength = (int) rint ((log (signal_strength) / log (15)) * 100.0);
+      signal_strength = CLAMP( signal_strength, 0, 100);
+
+      wi = netstatus_wifi_info_new( essid,
+                                    connected,
+                                    bssid,
+                                    bss_mode,
+                                    signal_strength,
+                                    mode,
+                                    security,
+                                    auth_mode );
+
+    }
+
+    if ( fields != NULL ) 
+        g_strfreev(fields);
+
+    g_free( str );
+  }
                                                                                 
-  return NULL;
+  return wi;
 }
 
 #else /* defined(__FreeBSD__) */

diff -up gnome-netstatus-2.26.0/src/netstatus-sysdeps.h.orig gnome-netstatus-2.26.0/src/netstatus-sysdeps.h
--- gnome-netstatus-2.26.0/src/netstatus-sysdeps.h.orig	2009-03-08 05:25:52.000000000 +0000
+++ gnome-netstatus-2.26.0/src/netstatus-sysdeps.h	2009-03-18 10:39:57.159003615 +0000
@@ -34,9 +34,36 @@ char *netstatus_sysdeps_read_iface_stati
 						     gulong     *out_packets,
 						     gulong     *in_bytes,
 						     gulong     *out_bytes);
+#if defined (__sun)
+
+typedef struct {
+    char       *essid;
+    gboolean    connected;       
+    char       *bssid;
+    char       *bss_mode;
+    int         signal_strength;
+    char       *mode;
+    char       *security;
+    char       *auth_mode;
+} wifi_info_t;
+
+wifi_info_t* netstatus_wifi_info_new(   char       *essid,
+                                        gboolean    connected,
+                                        char       *bssid,
+                                        char       *bss_mode,
+                                        int         signal_strength,
+                                        char       *mode,
+                                        char       *security,
+                                        char       *auth_mode );
+
+void netstatus_wifi_info_free( wifi_info_t * wi );
+
+wifi_info_t *netstatus_sysdeps_read_iface_wireless_details (const char *iface);
+#else
 char *netstatus_sysdeps_read_iface_wireless_details (const char *iface,
 						     gboolean   *is_wireless,
 						     int        *signal_strength);
+#endif
 
 G_END_DECLS
 
 
diff -up gnome-netstatus-2.12.1/src/wifi_info.c-clean gnome-netstatus-2.12.1/src/wifi_info.c
--- gnome-netstatus-2.12.1/src/wifi_info.c-clean	2008-09-17 20:47:28.029413763 +0100
+++ gnome-netstatus-2.12.1/src/wifi_info.c	2008-09-17 19:18:01.187032954 +0100
@@ -0,0 +1,379 @@
+/*
+ * Simple test program, that takes a wireles device as an argument, and then
+ * tries to gather various configuration information from it.
+ */
+
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <unistd.h>
+#include <stropts.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <fcntl.h>
+#include <inet/wifi_ioctl.h>
+#include <net/if_types.h>
+#include <net/if_dl.h> /*_link_ntoa*/
+
+#define TRUE   (1)
+#define FALSE  (0)
+
+#define DEV_PATH_PREFIX "/dev/"
+
+const int debug = 0;
+
+wldp_t  *gbuf = NULL;
+
+int 
+get_value( int fd, wldp_t *buf, int prop_id )
+{
+    int             rc;
+    struct strioctl stri;
+
+    (void) memset(gbuf, 0, MAX_BUF_LEN);
+
+    gbuf->wldp_type     =   NET_802_11;
+    gbuf->wldp_id       =   prop_id;
+    gbuf->wldp_length   =   sizeof( wldp_t );
+    stri.ic_timout      =   0;
+    stri.ic_dp          =   (char*)gbuf;
+    stri.ic_cmd         =   WLAN_GET_PARAM;
+    stri.ic_len         =   sizeof( wldp_t );
+
+    if ( (rc = ioctl( fd, I_STR, &stri )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_value( %d ): rc = %d\n", prop_id, rc);
+        return( -1 );
+    }
+    return( rc );
+}
+
+int
+is_connected( int fd ) 
+{
+    int rc;
+
+    if ( (rc = get_value( fd, gbuf, WL_LINKSTATUS )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "is_connected: rc = %d\n", rc);
+        return( -1 );
+    }
+
+    return((*(wl_linkstatus_t *)((gbuf)->wldp_buf) == WL_CONNECTED));
+}
+
+int
+is_wifi( int fd ) 
+{
+    return( (get_value(fd, gbuf, WL_BSS_TYPE ) < 0 )?FALSE:TRUE );
+}
+
+int
+get_signal_strength( int fd ) 
+{
+    int             rc;
+
+    if ( (rc = get_value( fd, gbuf, WL_RSSI )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_signal_strength: rc = %d\n", rc);
+        return( -1 );
+    }
+
+    return( *(wl_rssi_t *)(gbuf->wldp_buf) ); // Get Signal Value
+}
+
+char*
+get_essid( int fd ) 
+{
+    char           *str;
+    int             rc;
+
+    str = calloc(256,sizeof(char));
+
+    if ( (rc = get_value( fd, gbuf, WL_ESSID )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_essid: rc = %d\n", rc);
+        return( str );
+    }
+
+    // Get ESSID Value
+    (void) strlcpy(str, ((wl_essid_t*)(gbuf->wldp_buf))->wl_essid_essid, 256);
+    return( str ); 
+}
+
+extern char *_link_ntoa(const unsigned char *, char *, int, int);
+
+char*
+get_bssid( int fd ) 
+{
+    char           *str;
+    int             rc;
+
+    str = calloc(256,sizeof(char));
+
+    if ( (rc = get_value( fd, gbuf, WL_BSSID )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_bssid: rc = %d\n", rc);
+        return( str );
+    }
+
+    // Get BSSID Value
+	_link_ntoa((const unsigned char*)gbuf->wldp_buf, str, 6, IFT_OTHER);
+
+    return( str ); 
+}
+
+const char*
+get_bss_mode( int fd ) 
+{
+    const char     *str;
+    int             rc;
+    wl_bss_type_t   bsstype;
+
+    str = "";
+
+    if ( (rc = get_value( fd, gbuf, WL_BSS_TYPE )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_bss_mode: rc = %d\n", rc);
+        return( str );
+    }
+
+    // Get BSS Type Value
+    bsstype = *(wl_bss_type_t *)(gbuf->wldp_buf);
+
+	switch (bsstype) {
+	case WL_BSS_BSS:
+		str = "bss";
+		break;
+	case WL_BSS_IBSS:
+		str = "ibss";
+		break;
+	case WL_BSS_ANY:
+		str = "any";
+		break;
+	default:
+		break;
+	}
+
+    return( str ); 
+}
+
+const char*
+get_encryption( int fd ) 
+{
+    char           *str = "none";
+    int             rc;
+	wl_encryption_t	encryption;
+
+    if ( (rc = get_value( fd, gbuf, WL_ENCRYPTION )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_encryption: rc = %d\n", rc);
+
+        return( str );
+    }
+
+	encryption = *(wl_encryption_t *)(gbuf->wldp_buf);
+
+	switch (encryption) {
+	case WL_ENC_WEP:
+		str = "wep";
+		break;
+	case WL_ENC_WPA:
+		str = "wpa";
+		break;
+	case WL_NOENCRYPTION:
+        /* fall-through */
+	default:
+		/* already default = none */
+		break;
+	}
+
+    return( str ); 
+}
+
+const char*
+get_auth_mode( int fd ) 
+{
+    char           *str = "open";
+    int             rc;
+	wl_authmode_t	authmode;
+
+    if ( (rc = get_value( fd, gbuf, WL_AUTH_MODE )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_authmode: rc = %d\n", rc);
+
+        return( str );
+    }
+
+	authmode = *(wl_authmode_t *)(gbuf->wldp_buf);
+
+	switch (authmode) {
+	case WL_SHAREDKEY:
+		str = "shared";
+		break;
+	case WL_OPENSYSTEM:
+        /* fall-through */
+	default:
+		/* already default = open */
+		break;
+	}
+
+    return( str ); 
+}
+
+
+const char*
+get_mode( int fd ) 
+{
+    char           *str = "";
+    int             rc;
+	wl_phy_conf_t  *phy_conf;
+
+    if ( (rc = get_value( fd, gbuf, WL_PHY_CONFIG )) != 0 ) {
+        if (debug) 
+            fprintf(stderr, "get_mode: rc = %d\n", rc);
+
+        return( str );
+    }
+
+    phy_conf = (wl_phy_conf_t *)(gbuf->wldp_buf);
+
+	switch (phy_conf->wl_phy_fhss_conf.wl_fhss_subtype) {
+	case WL_ERP:
+		str = "g";
+        break;
+	case WL_OFDM:
+		str = "a";
+        break;
+	case WL_DSSS:
+	case WL_FHSS:
+		str = "b";
+        break;
+	default:
+		break;
+	}
+
+	return (str);
+}
+
+int
+handle_dev( const char* dev ) 
+{
+    char         *devpath       = NULL;
+    int           fd            = -1;
+    int           iswifi        = FALSE;
+    int           isconnected   = FALSE;
+    char         *essid         = NULL;
+    char         *bssid         = NULL;
+    const char   *bss_mode      = NULL;
+    const char   *mode          = NULL;
+    const char   *auth_mode     = NULL;
+    const char   *encryption    = NULL;
+    int           signal        = 0;
+    const char   *dev_no_path   = NULL;
+
+    if ( dev == NULL ) {
+        return( 1 );
+    }
+
+    if ( (dev_no_path = strchr(dev, '/')) == NULL ) {
+        /* Prefix with /dev/net/ */
+        int buflen = strlen(DEV_PATH_PREFIX) + strlen(dev) + 2;
+
+        devpath = malloc( buflen );
+        (void)snprintf(devpath, buflen, "%s%s", DEV_PATH_PREFIX, dev );
+
+        dev_no_path = dev;  /* Pass back what was used as arg */
+    }
+    else {
+        devpath = strdup( dev );
+        dev_no_path++; /* Skip '/' */
+    }
+
+    if ( (fd = open( devpath, O_RDONLY )) < 0 ) {
+        if ( debug )
+            fprintf(stderr,"Unable to open dev %s\n", dev);
+        /* Output something so caller doesn't block waiting for response */
+        printf("%s;%d;%d;%s;%d;%s;%s;%s;%s\n", 
+               dev_no_path, 
+               iswifi?TRUE:FALSE, 
+               isconnected?TRUE:FALSE, 
+               essid?essid:"", 
+               signal,
+               mode?mode:"", 
+               bssid?bssid:"", 
+               encryption?encryption:"", 
+               auth_mode?auth_mode:""
+               );
+        fflush(stdout);
+        free(devpath);
+        return (1);
+    }
+    
+    iswifi = is_wifi(fd);
+    isconnected = is_connected(fd);
+     
+    if ( iswifi && isconnected ) {
+
+        essid = get_essid(fd);
+        bssid = get_bssid(fd);
+        bss_mode = get_bss_mode(fd);
+        mode = get_mode(fd);
+        auth_mode = get_auth_mode(fd);
+        encryption = get_encryption(fd);
+        signal = get_signal_strength(fd);
+
+    }
+
+    printf("%s;%d;%d;%s;%d;%s;%s;%s;%s;%s\n", 
+           dev_no_path, 
+           iswifi?TRUE:FALSE, 
+           isconnected?TRUE:FALSE, 
+           essid?essid:"", 
+           signal,
+           mode?mode:"", 
+           bssid?bssid:"", 
+           bss_mode?bss_mode:"", 
+           encryption?encryption:"", 
+           auth_mode?auth_mode:""
+           );
+
+    fflush(stdout);
+
+    close(fd);
+
+    free(devpath);
+
+    if ( essid != NULL ) {
+        free(essid);
+        free(bssid);
+    }
+
+    return(0);
+}
+
+int
+main( int argc, char* argv[] ) 
+{
+    char    stdin_buffer[MAXPATHLEN];
+
+    if ((gbuf = malloc(MAX_BUF_LEN)) == NULL) {
+        return (1);
+    }
+
+
+    setbuf(stdin, NULL );
+
+    while ( fgets( stdin_buffer, MAXPATHLEN, stdin ) != NULL ) {
+        char *eol = strrchr( stdin_buffer, '\n' );
+        if ( eol != NULL ) 
+            *eol = '\0';
+
+        handle_dev( stdin_buffer );
+    }
+
+    free(gbuf);
+
+    return(0);
+}

diff -up gnome-netstatus-2.26.0/configure.in.orig gnome-netstatus-2.26.0/configure.in
--- gnome-netstatus-2.26.0/configure.in.orig	2009-03-18 10:39:57.134251059 +0000
+++ gnome-netstatus-2.26.0/configure.in	2009-03-18 10:39:57.160568707 +0000
@@ -50,6 +50,11 @@ PKG_CHECK_MODULES(NETSTATUS,
 
 AC_CHECK_HEADERS(sys/sockio.h)
 
+dnl *** checks for socket, nsl and scf libraries ***
+AC_CHECK_FUNC(socket,,[AC_CHECK_LIB(socket,socket)])
+AC_CHECK_FUNC(gethostbyname,,[AC_CHECK_LIB(nsl,gethostbyname)])
+AC_CHECK_FUNC(smf_get_state,,[AC_CHECK_LIB(scf,smf_get_state)])
+
 # Blatantly stolen from configure.in in the sample code from
 # "UNIX Network Programming, Volume 1" by W. Richard Stevens
 AC_CACHE_CHECK(if sockaddr has sa_len member,
@@ -119,6 +124,17 @@ Makefile
 po/Makefile.in
 src/Makefile
 icons/Makefile
+icons/hicolor/Makefile
+icons/hicolor/24x24/Makefile
+icons/hicolor/24x24/status/Makefile
+icons/hicolor/24x24/emblems/Makefile
+icons/hicolor/scalable/status/Makefile
+icons/hicolor/scalable/Makefile
+icons/hicolor/scalable/emblems/Makefile
+icons/hicolor/32x32/status/Makefile
+icons/hicolor/32x32/emblems/Makefile
+icons/hicolor/32x32/Makefile
+rbac/Makefile
 help/Makefile
 help/de/Makefile
 help/ja/Makefile

diff -up gnome-netstatus-2.12.1/Makefile.am.orig gnome-netstatus-2.12.1/Makefile.am
--- gnome-netstatus-2.12.1/Makefile.am.orig	2007-02-13 09:39:24.000000000 +0000
+++ gnome-netstatus-2.12.1/Makefile.am	2008-06-26 13:36:00.710054231 +0100
@@ -1,4 +1,4 @@
-SUBDIRS = src icons help po packaging
+SUBDIRS = src icons help po packaging rbac
 
 EXTRA_DIST =                \
 	MAINTAINERS         \

diff -up gnome-netstatus-2.12.1/rbac/Makefile.am.orig gnome-netstatus-2.12.1/rbac/Makefile.am
--- gnome-netstatus-2.12.1/rbac/Makefile.am.orig	2008-06-26 13:17:12.257300719 +0100
+++ gnome-netstatus-2.12.1/rbac/Makefile.am	2008-06-26 13:18:54.813651469 +0100
@@ -0,0 +1,7 @@
+rbacdir = $(sysconfdir)/security
+
+rbac_DATA = 				\
+			exec_attr 	    \
+			prof_attr
+
+EXTRA_DIST = $(rbac_DATA)

diff -up gnome-netstatus-2.12.1/rbac/exec_attr.orig gnome-netstatus-2.12.1/rbac/exec_attr
--- gnome-netstatus-2.12.1/rbac/exec_attr.orig	2008-06-26 13:17:02.989642393 +0100
+++ gnome-netstatus-2.12.1/rbac/exec_attr	2008-06-26 13:13:39.792226992 +0100
@@ -0,0 +1,28 @@
+# CDDL HEADER START
+#
+# The contents of this file are subject to the terms of the
+# Common Development and Distribution License (the "License").
+# You may not use this file except in compliance with the License.
+#
+# You can obtain a copy of the license at src/sun_nws/OPENSOLARIS.LICENSE
+# or http://www.opensolaris.org/os/licensing.
+# See the License for the specific language governing permissions
+# and limitations under the License.
+#
+# When distributing Covered Code, include this CDDL HEADER in each
+# file and include the License file at src/sun_nws/OPENSOLARIS.LICENSE.
+# If applicable, add the following below this CDDL HEADER, with the
+# fields enclosed by brackets "[]" replaced with your own identifying
+# information: Portions Copyright [yyyy] [name of copyright owner]
+#
+# CDDL HEADER END
+#
+#
+# Copyright 2006 Sun Microsystems, Inc.  All rights reserved.
+# Use is subject to license terms.
+#
+#ident	"@(#)exec_attr	1.2	06/09/15 SMI"
+#
+# execution attributes for profiles. see exec_attr(4)
+#
+Network Wifi Info:solaris:cmd:::/usr/lib/gnome-netstatus-wifi-info:privs=net_rawaccess,file_dac_read;limitprivs=net_rawaccess,file_dac_read,!proc_session,!proc_fork,!proc_exec,!proc_info,!file_link_any

diff -up gnome-netstatus-2.12.1/rbac/prof_attr-clean gnome-netstatus-2.12.1/rbac/prof_attr
--- gnome-netstatus-2.12.1/rbac/prof_attr-clean	2008-08-29 11:08:17.915209911 +0100
+++ gnome-netstatus-2.12.1/rbac/prof_attr	2008-08-29 11:07:09.995335773 +0100
@@ -0,0 +1,18 @@
+# CDDL HEADER START
+# The contents of this file are subject to the terms of the
+# Common Development and Distribution License (the "License").
+# You may not use this file except in compliance with the License.
+# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
+# or http://www.opensolaris.org/os/licensing.
+# See the License for the specific language governing permissions
+# and limitations under the License.
+# When distributing Covered Code, include this CDDL HEADER in each
+# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
+# If applicable, add the following below this CDDL HEADER, with the
+# fields enclosed by brackets "[]" replaced with your own identifying
+# information: Portions Copyright [yyyy] [name of copyright owner]
+# CDDL HEADER END
+# Copyright (c) 2007 by Sun Microsystems, Inc. All rights reserved.
+Console User:::Manage System as the Console User:profiles=Network Wifi Info;help=RtConsUser.html
+Network Wifi Info:::Obtain Wireless Information:
+Network Management:::Manage the host and network configuration:profiles=Network Wifi Info;help=RtNetMngmnt.html

--- gnome-netstatus-2.12.2/src/Makefile.am-orig	2009-01-22 16:01:42.268804000 -0600
+++ gnome-netstatus-2.12.2/src/Makefile.am	2009-01-22 16:02:39.836807000 -0600
@@ -8,11 +8,14 @@ INCLUDES = \
 	$(NETSTATUS_CFLAGS) \
 	$(NETSTATUS_DEBUG_CFLAGS) \
 	$(WARN_CFLAGS) \
-	-DNETSTATUS_ICONDIR=\""$(datadir)/icons/gnome-netstatus\"" \
+	-DNETSTATUS_DATA_DIR=\""$(pkgdatadir)\"" \
 	-DNETSTATUS_GLADEDIR=\""$(gladedir)\"" \
 	-DGNOMELOCALEDIR=\""$(prefix)/$(DATADIRNAME)/locale"\"
 
-libexec_PROGRAMS = gnome-netstatus-applet
+libexec_PROGRAMS = gnome-netstatus-applet gnome-netstatus-wifi-info
+
+gnome_netstatus_wifi_info_SOURCES = \
+	wifi_info.c
 
 gnome_netstatus_applet_LDADD = $(NETSTATUS_LIBS) $(KSTAT_LIBS)
 
diff -up gnome-netstatus-2.26.0/src/gnome-netstatus.glade.orig gnome-netstatus-2.26.0/src/gnome-netstatus.glade
--- gnome-netstatus-2.26.0/src/gnome-netstatus.glade.orig	2009-03-18 12:48:02.044789701 +0000
+++ gnome-netstatus-2.26.0/src/gnome-netstatus.glade	2009-03-18 12:49:33.603031287 +0000
@@ -1,1612 +1,1099 @@
-<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
-<!DOCTYPE glade-interface SYSTEM "http://glade.gnome.org/glade-2.0.dtd">
-
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<!DOCTYPE glade-interface SYSTEM "glade-2.0.dtd">
+<!--*- mode: xml -*-->
 <glade-interface>
-<requires lib="gnome"/>
-
-<widget class="GtkDialog" id="network_status_dialog">
-  <property name="border_width">5</property>
-  <property name="title" translatable="yes"></property>
-  <property name="type">GTK_WINDOW_TOPLEVEL</property>
-  <property name="window_position">GTK_WIN_POS_CENTER</property>
-  <property name="modal">False</property>
-  <property name="default_width">300</property>
-  <property name="resizable">False</property>
-  <property name="destroy_with_parent">False</property>
-  <property name="decorated">True</property>
-  <property name="skip_taskbar_hint">False</property>
-  <property name="skip_pager_hint">False</property>
-  <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
-  <property name="gravity">GDK_GRAVITY_NORTH_WEST</property>
-  <property name="focus_on_map">True</property>
-  <property name="urgency_hint">False</property>
-  <property name="has_separator">False</property>
-
-  <child internal-child="vbox">
-    <widget class="GtkVBox" id="dialog-vbox2">
-      <property name="visible">True</property>
-      <property name="homogeneous">False</property>
-      <property name="spacing">2</property>
-
-      <child internal-child="action_area">
-	<widget class="GtkHButtonBox" id="dialog-action_area2">
-	  <property name="visible">True</property>
-	  <property name="layout_style">GTK_BUTTONBOX_END</property>
-
-	  <child>
-	    <widget class="GtkButton" id="helpbutton1">
-	      <property name="visible">True</property>
-	      <property name="can_default">True</property>
-	      <property name="has_default">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="label">gtk-help</property>
-	      <property name="use_stock">True</property>
-	      <property name="relief">GTK_RELIEF_NORMAL</property>
-	      <property name="focus_on_click">True</property>
-	      <property name="response_id">-11</property>
-	    </widget>
-	  </child>
-
-	  <child>
-	    <widget class="GtkButton" id="configure_button">
-	      <property name="visible">True</property>
-	      <property name="can_default">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="relief">GTK_RELIEF_NORMAL</property>
-	      <property name="focus_on_click">True</property>
-	      <property name="response_id">0</property>
-
-	      <child>
-		<widget class="GtkAlignment" id="alignment2">
-		  <property name="visible">True</property>
-		  <property name="xalign">0.5</property>
-		  <property name="yalign">0.5</property>
-		  <property name="xscale">0</property>
-		  <property name="yscale">0</property>
-		  <property name="top_padding">0</property>
-		  <property name="bottom_padding">0</property>
-		  <property name="left_padding">0</property>
-		  <property name="right_padding">0</property>
-
-		  <child>
-		    <widget class="GtkHBox" id="hbox5">
-		      <property name="visible">True</property>
-		      <property name="homogeneous">False</property>
-		      <property name="spacing">2</property>
-
-		      <child>
-			<widget class="GtkImage" id="image2">
-			  <property name="visible">True</property>
-			  <property name="stock">gtk-preferences</property>
-			  <property name="icon_size">4</property>
-			  <property name="xalign">0.5</property>
-			  <property name="yalign">0.5</property>
-			  <property name="xpad">0</property>
-			  <property name="ypad">0</property>
-			</widget>
-			<packing>
-			  <property name="padding">0</property>
-			  <property name="expand">False</property>
-			  <property name="fill">False</property>
-			</packing>
-		      </child>
-
-		      <child>
-			<widget class="GtkLabel" id="label42">
-			  <property name="visible">True</property>
-			  <property name="label" translatable="yes">Con_figure</property>
-			  <property name="use_underline">True</property>
-			  <property name="use_markup">False</property>
-			  <property name="justify">GTK_JUSTIFY_LEFT</property>
-			  <property name="wrap">False</property>
-			  <property name="selectable">False</property>
-			  <property name="xalign">0.5</property>
-			  <property name="yalign">0.5</property>
-			  <property name="xpad">0</property>
-			  <property name="ypad">0</property>
-			  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			  <property name="width_chars">-1</property>
-			  <property name="single_line_mode">False</property>
-			  <property name="angle">0</property>
-			</widget>
-			<packing>
-			  <property name="padding">0</property>
-			  <property name="expand">False</property>
-			  <property name="fill">False</property>
-			</packing>
-		      </child>
-		    </widget>
-		  </child>
-		</widget>
-	      </child>
-	    </widget>
-	  </child>
-
-	  <child>
-	    <widget class="GtkButton" id="close_button">
-	      <property name="visible">True</property>
-	      <property name="can_default">True</property>
-	      <property name="has_default">True</property>
-	      <property name="can_focus">True</property>
-	      <property name="label">gtk-close</property>
-	      <property name="use_stock">True</property>
-	      <property name="relief">GTK_RELIEF_NORMAL</property>
-	      <property name="focus_on_click">True</property>
-	      <property name="response_id">-7</property>
-	    </widget>
-	  </child>
-	</widget>
-	<packing>
-	  <property name="padding">0</property>
-	  <property name="expand">False</property>
-	  <property name="fill">True</property>
-	  <property name="pack_type">GTK_PACK_END</property>
-	</packing>
-      </child>
-
-      <child>
-	<widget class="GtkNotebook" id="notebook1">
-	  <property name="border_width">5</property>
-	  <property name="visible">True</property>
-	  <property name="can_focus">True</property>
-	  <property name="show_tabs">True</property>
-	  <property name="show_border">True</property>
-	  <property name="tab_pos">GTK_POS_TOP</property>
-	  <property name="scrollable">False</property>
-	  <property name="enable_popup">False</property>
-
-	  <child>
-	    <widget class="GtkVBox" id="vbox1">
-	      <property name="border_width">12</property>
-	      <property name="visible">True</property>
-	      <property name="homogeneous">False</property>
-	      <property name="spacing">18</property>
-
-	      <child>
-		<widget class="GtkVBox" id="connection_frame">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label3">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">&lt;b&gt;Connection&lt;/b&gt;</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">True</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		      <property name="width_chars">-1</property>
-		      <property name="single_line_mode">False</property>
-		      <property name="angle">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkHBox" id="hbox6">
-		      <property name="visible">True</property>
-		      <property name="homogeneous">False</property>
-		      <property name="spacing">0</property>
-
-		      <child>
-			<widget class="GtkAlignment" id="alignment7">
-			  <property name="visible">True</property>
-			  <property name="xalign">0.5</property>
-			  <property name="yalign">0.5</property>
-			  <property name="xscale">1</property>
-			  <property name="yscale">1</property>
-			  <property name="top_padding">0</property>
-			  <property name="bottom_padding">0</property>
-			  <property name="left_padding">10</property>
-			  <property name="right_padding">0</property>
-
-			  <child>
-			    <widget class="GtkTable" id="connection_table">
-			      <property name="visible">True</property>
-			      <property name="n_rows">2</property>
-			      <property name="n_columns">2</property>
-			      <property name="homogeneous">False</property>
-			      <property name="row_spacing">6</property>
-			      <property name="column_spacing">12</property>
-
-			      <child>
-				<widget class="GtkLabel" id="label5">
-				  <property name="visible">True</property>
-				  <property name="label" translatable="yes">Status:</property>
-				  <property name="use_underline">False</property>
-				  <property name="use_markup">False</property>
-				  <property name="justify">GTK_JUSTIFY_LEFT</property>
-				  <property name="wrap">False</property>
-				  <property name="selectable">False</property>
-				  <property name="xalign">0</property>
-				  <property name="yalign">0.5</property>
-				  <property name="xpad">0</property>
-				  <property name="ypad">0</property>
-				  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-				  <property name="width_chars">-1</property>
-				  <property name="single_line_mode">False</property>
-				  <property name="angle">0</property>
-				</widget>
-				<packing>
-				  <property name="left_attach">0</property>
-				  <property name="right_attach">1</property>
-				  <property name="top_attach">1</property>
-				  <property name="bottom_attach">2</property>
-				  <property name="x_options">fill</property>
-				  <property name="y_options"></property>
-				</packing>
-			      </child>
-
-			      <child>
-				<widget class="GtkLabel" id="status_label">
-				  <property name="visible">True</property>
-				  <property name="can_focus">True</property>
-				  <property name="label" translatable="yes"></property>
-				  <property name="use_underline">False</property>
-				  <property name="use_markup">False</property>
-				  <property name="justify">GTK_JUSTIFY_LEFT</property>
-				  <property name="wrap">False</property>
-				  <property name="selectable">True</property>
-				  <property name="xalign">0</property>
-				  <property name="yalign">0.5</property>
-				  <property name="xpad">0</property>
-				  <property name="ypad">0</property>
-				  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-				  <property name="width_chars">-1</property>
-				  <property name="single_line_mode">False</property>
-				  <property name="angle">0</property>
-				</widget>
-				<packing>
-				  <property name="left_attach">1</property>
-				  <property name="right_attach">2</property>
-				  <property name="top_attach">1</property>
-				  <property name="bottom_attach">2</property>
-				  <property name="x_options">fill</property>
-				  <property name="y_options"></property>
-				</packing>
-			      </child>
-
-			      <child>
-				<widget class="GtkLabel" id="label16">
-				  <property name="visible">True</property>
-				  <property name="label" translatable="yes">_Name:</property>
-				  <property name="use_underline">True</property>
-				  <property name="use_markup">False</property>
-				  <property name="justify">GTK_JUSTIFY_LEFT</property>
-				  <property name="wrap">False</property>
-				  <property name="selectable">False</property>
-				  <property name="xalign">0</property>
-				  <property name="yalign">0.5</property>
-				  <property name="xpad">0</property>
-				  <property name="ypad">0</property>
-				  <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-				  <property name="width_chars">-1</property>
-				  <property name="single_line_mode">False</property>
-				  <property name="angle">0</property>
-				</widget>
-				<packing>
-				  <property name="left_attach">0</property>
-				  <property name="right_attach">1</property>
-				  <property name="top_attach">0</property>
-				  <property name="bottom_attach">1</property>
-				  <property name="x_options">fill</property>
-				  <property name="y_options"></property>
-				</packing>
-			      </child>
-
-			      <child>
-				<widget class="GtkComboBoxEntry" id="name_combo_box_entry">
-				  <property name="visible">True</property>
-				  <property name="add_tearoffs">False</property>
-				  <property name="has_frame">True</property>
-				  <property name="focus_on_click">True</property>
-                  <property name="items"> </property>
-				</widget>
-				<packing>
-				  <property name="left_attach">1</property>
-				  <property name="right_attach">2</property>
-				  <property name="top_attach">0</property>
-				  <property name="bottom_attach">1</property>
-				  <property name="x_options">fill</property>
-				  <property name="y_options">fill</property>
-				</packing>
-			      </child>
-			    </widget>
-			  </child>
-			</widget>
-			<packing>
-			  <property name="padding">0</property>
-			  <property name="expand">True</property>
-			  <property name="fill">True</property>
-			</packing>
-		      </child>
-
-		      <child>
-			<widget class="GtkHBox" id="connection_hbox">
-			  <property name="visible">True</property>
-			  <property name="homogeneous">False</property>
-			  <property name="spacing">0</property>
-
-			  <child>
-			    <placeholder/>
-			  </child>
-			</widget>
-			<packing>
-			  <property name="padding">0</property>
-			  <property name="expand">True</property>
-			  <property name="fill">True</property>
-			</packing>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkVBox" id="activity_frame">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label4">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">&lt;b&gt;Activity&lt;/b&gt;</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">True</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		      <property name="width_chars">-1</property>
-		      <property name="single_line_mode">False</property>
-		      <property name="angle">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkAlignment" id="alignment8">
-		      <property name="visible">True</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xscale">1</property>
-		      <property name="yscale">1</property>
-		      <property name="top_padding">0</property>
-		      <property name="bottom_padding">0</property>
-		      <property name="left_padding">10</property>
-		      <property name="right_padding">0</property>
-
-		      <child>
-			<widget class="GtkTable" id="table2">
-			  <property name="visible">True</property>
-			  <property name="n_rows">2</property>
-			  <property name="n_columns">2</property>
-			  <property name="homogeneous">False</property>
-			  <property name="row_spacing">6</property>
-			  <property name="column_spacing">12</property>
-
-			  <child>
-			    <widget class="GtkLabel" id="received_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="sent_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="label11">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Received:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="label12">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Sent:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-			</widget>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkVBox" id="signal_strength_frame">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label48">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">&lt;b&gt;Signal Strength&lt;/b&gt;</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">True</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		      <property name="width_chars">-1</property>
-		      <property name="single_line_mode">False</property>
-		      <property name="angle">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkAlignment" id="alignment3">
-		      <property name="visible">True</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xscale">1</property>
-		      <property name="yscale">1</property>
-		      <property name="top_padding">0</property>
-		      <property name="bottom_padding">0</property>
-		      <property name="left_padding">10</property>
-		      <property name="right_padding">0</property>
-
-		      <child>
-			<widget class="GtkHBox" id="hbox15">
-			  <property name="visible">True</property>
-			  <property name="homogeneous">False</property>
-			  <property name="spacing">6</property>
-
-			  <child>
-			    <widget class="GtkProgressBar" id="signal_strength_bar">
-			      <property name="visible">True</property>
-			      <property name="orientation">GTK_PROGRESS_LEFT_TO_RIGHT</property>
-			      <property name="fraction">0</property>
-			      <property name="pulse_step">0.10000000149</property>
-			      <property name="text" translatable="yes"></property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			    </widget>
-			    <packing>
-			      <property name="padding">0</property>
-			      <property name="expand">True</property>
-			      <property name="fill">True</property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="signal_strength_label">
-			      <property name="visible">True</property>
-			      <property name="label">0%</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0.5</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="padding">0</property>
-			      <property name="expand">False</property>
-			      <property name="fill">True</property>
-			    </packing>
-			  </child>
-			</widget>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-	    </widget>
-	    <packing>
-	      <property name="tab_expand">False</property>
-	      <property name="tab_fill">True</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="label1">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">General</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">False</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="type">tab</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkVBox" id="vbox2">
-	      <property name="border_width">12</property>
-	      <property name="visible">True</property>
-	      <property name="homogeneous">False</property>
-	      <property name="spacing">18</property>
-
-	      <child>
-		<widget class="GtkVBox" id="inet4_frame">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label25">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">&lt;b&gt;Internet Protocol (IPv4)&lt;/b&gt;</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">True</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		      <property name="width_chars">-1</property>
-		      <property name="single_line_mode">False</property>
-		      <property name="angle">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkAlignment" id="alignment4">
-		      <property name="visible">True</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xscale">1</property>
-		      <property name="yscale">1</property>
-		      <property name="top_padding">0</property>
-		      <property name="bottom_padding">0</property>
-		      <property name="left_padding">10</property>
-		      <property name="right_padding">0</property>
-
-		      <child>
-			<widget class="GtkTable" id="inet4_table">
-			  <property name="visible">True</property>
-			  <property name="n_rows">4</property>
-			  <property name="n_columns">2</property>
-			  <property name="homogeneous">False</property>
-			  <property name="row_spacing">6</property>
-			  <property name="column_spacing">12</property>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_addr_title">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Address:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_dest_title">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Destination:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_bcast_title">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Broadcast:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">2</property>
-			      <property name="bottom_attach">3</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_mask_title">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Subnet Mask:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">3</property>
-			      <property name="bottom_attach">4</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_addr_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_dest_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_bcast_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">2</property>
-			      <property name="bottom_attach">3</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet4_mask_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">3</property>
-			      <property name="bottom_attach">4</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-			</widget>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkVBox" id="inet6_frame">
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label26">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">&lt;b&gt;Internet Protocol (IPv6)&lt;/b&gt;</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">True</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		      <property name="width_chars">-1</property>
-		      <property name="single_line_mode">False</property>
-		      <property name="angle">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkAlignment" id="alignment6">
-		      <property name="visible">True</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xscale">1</property>
-		      <property name="yscale">1</property>
-		      <property name="top_padding">0</property>
-		      <property name="bottom_padding">0</property>
-		      <property name="left_padding">10</property>
-		      <property name="right_padding">0</property>
-
-		      <child>
-			<widget class="GtkTable" id="table5">
-			  <property name="visible">True</property>
-			  <property name="n_rows">2</property>
-			  <property name="n_columns">2</property>
-			  <property name="homogeneous">False</property>
-			  <property name="row_spacing">6</property>
-			  <property name="column_spacing">12</property>
-
-			  <child>
-			    <widget class="GtkLabel" id="label39">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Address:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="label40">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Scope:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet6_addr_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="inet6_scope_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-			</widget>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkVBox" id="dev_frame">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="dev_label">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">&lt;b&gt;Network Device&lt;/b&gt;</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">True</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-		      <property name="width_chars">-1</property>
-		      <property name="single_line_mode">False</property>
-		      <property name="angle">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkAlignment" id="alignment5">
-		      <property name="visible">True</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xscale">1</property>
-		      <property name="yscale">1</property>
-		      <property name="top_padding">0</property>
-		      <property name="bottom_padding">0</property>
-		      <property name="left_padding">10</property>
-		      <property name="right_padding">0</property>
-
-		      <child>
-			<widget class="GtkTable" id="table6">
-			  <property name="visible">True</property>
-			  <property name="n_rows">2</property>
-			  <property name="n_columns">2</property>
-			  <property name="homogeneous">False</property>
-			  <property name="row_spacing">6</property>
-			  <property name="column_spacing">12</property>
-
-			  <child>
-			    <widget class="GtkLabel" id="dev_addr_title">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Address:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="dev_addr_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">1</property>
-			      <property name="bottom_attach">2</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="dev_type_label">
-			      <property name="visible">True</property>
-			      <property name="can_focus">True</property>
-			      <property name="label" translatable="yes"></property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">True</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">1</property>
-			      <property name="right_attach">2</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-
-			  <child>
-			    <widget class="GtkLabel" id="dev_type_title">
-			      <property name="visible">True</property>
-			      <property name="label" translatable="yes">Type:</property>
-			      <property name="use_underline">False</property>
-			      <property name="use_markup">False</property>
-			      <property name="justify">GTK_JUSTIFY_LEFT</property>
-			      <property name="wrap">False</property>
-			      <property name="selectable">False</property>
-			      <property name="xalign">0</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xpad">0</property>
-			      <property name="ypad">0</property>
-			      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-			      <property name="width_chars">-1</property>
-			      <property name="single_line_mode">False</property>
-			      <property name="angle">0</property>
-			    </widget>
-			    <packing>
-			      <property name="left_attach">0</property>
-			      <property name="right_attach">1</property>
-			      <property name="top_attach">0</property>
-			      <property name="bottom_attach">1</property>
-			      <property name="x_options">fill</property>
-			      <property name="y_options"></property>
-			    </packing>
-			  </child>
-			</widget>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-	    </widget>
-	    <packing>
-	      <property name="tab_expand">False</property>
-	      <property name="tab_fill">True</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="label2">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">Support</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">False</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	      <property name="ellipsize">PANGO_ELLIPSIZE_NONE</property>
-	      <property name="width_chars">-1</property>
-	      <property name="single_line_mode">False</property>
-	      <property name="angle">0</property>
-	    </widget>
-	    <packing>
-	      <property name="type">tab</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkVBox" id="vbox3">
-	      <property name="border_width">12</property>
-	      <property name="visible">True</property>
-	      <property name="homogeneous">False</property>
-	      <property name="spacing">18</property>
-
-	      <child>
-		<widget class="GtkVBox" id="vbox5">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">6</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label59">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes">You may need to restart ths connection if you want to connect to a different network, or if you are experiencing connection problems.</property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">False</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">True</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">False</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkHBox" id="restart_hbox">
-		  <property name="visible">True</property>
-		  <property name="homogeneous">False</property>
-		  <property name="spacing">0</property>
-
-		  <child>
-		    <widget class="GtkLabel" id="label65">
-		      <property name="visible">True</property>
-		      <property name="label" translatable="yes"></property>
-		      <property name="use_underline">False</property>
-		      <property name="use_markup">False</property>
-		      <property name="justify">GTK_JUSTIFY_LEFT</property>
-		      <property name="wrap">False</property>
-		      <property name="selectable">False</property>
-		      <property name="xalign">0.5</property>
-		      <property name="yalign">0.5</property>
-		      <property name="xpad">0</property>
-		      <property name="ypad">0</property>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">True</property>
-		      <property name="fill">True</property>
-		    </packing>
-		  </child>
-
-		  <child>
-		    <widget class="GtkVBox" id="vbox6">
-		      <property name="visible">True</property>
-		      <property name="homogeneous">False</property>
-		      <property name="spacing">0</property>
-
-		      <child>
-			<widget class="GtkButton" id="restart_button">
-			  <property name="visible">True</property>
-			  <property name="can_focus">True</property>
-			  <property name="relief">GTK_RELIEF_NORMAL</property>
-
-			  <child>
-			    <widget class="GtkAlignment" id="alignment3">
-			      <property name="visible">True</property>
-			      <property name="xalign">0.5</property>
-			      <property name="yalign">0.5</property>
-			      <property name="xscale">0</property>
-			      <property name="yscale">0</property>
-
-			      <child>
-				<widget class="GtkHBox" id="hbox15">
-				  <property name="visible">True</property>
-				  <property name="homogeneous">False</property>
-				  <property name="spacing">2</property>
-
-				  <child>
-				    <widget class="GtkImage" id="restart_button_image">
-				      <property name="visible">True</property>
-				      <property name="stock">gtk-refresh</property>
-				      <property name="icon_size">4</property>
-				      <property name="xalign">0.5</property>
-				      <property name="yalign">0.5</property>
-				      <property name="xpad">0</property>
-				      <property name="ypad">0</property>
-				    </widget>
-				    <packing>
-				      <property name="padding">0</property>
-				      <property name="expand">False</property>
-				      <property name="fill">False</property>
-				    </packing>
-				  </child>
-
-				  <child>
-				    <widget class="GtkLabel" id="restart_button_label">
-				      <property name="visible">True</property>
-				      <property name="label" translatable="yes">_Restart</property>
-				      <property name="use_underline">True</property>
-				      <property name="use_markup">False</property>
-				      <property name="justify">GTK_JUSTIFY_LEFT</property>
-				      <property name="wrap">False</property>
-				      <property name="selectable">False</property>
-				      <property name="xalign">0.5</property>
-				      <property name="yalign">0.5</property>
-				      <property name="xpad">0</property>
-				      <property name="ypad">0</property>
-				    </widget>
-				    <packing>
-				      <property name="padding">0</property>
-				      <property name="expand">False</property>
-				      <property name="fill">False</property>
-				    </packing>
-				  </child>
-				</widget>
-			      </child>
-			    </widget>
-			  </child>
-			</widget>
-			<packing>
-			  <property name="padding">0</property>
-			  <property name="expand">False</property>
-			  <property name="fill">False</property>
-			</packing>
-		      </child>
-
-		      <child>
-			<widget class="GtkLabel" id="label70">
-			  <property name="visible">True</property>
-			  <property name="label" translatable="yes"></property>
-			  <property name="use_underline">False</property>
-			  <property name="use_markup">False</property>
-			  <property name="justify">GTK_JUSTIFY_LEFT</property>
-			  <property name="wrap">False</property>
-			  <property name="selectable">False</property>
-			  <property name="xalign">0.5</property>
-			  <property name="yalign">0.5</property>
-			  <property name="xpad">0</property>
-			  <property name="ypad">0</property>
-			</widget>
-			<packing>
-			  <property name="padding">0</property>
-			  <property name="expand">True</property>
-			  <property name="fill">True</property>
-			</packing>
-		      </child>
-		    </widget>
-		    <packing>
-		      <property name="padding">0</property>
-		      <property name="expand">False</property>
-		      <property name="fill">False</property>
-		    </packing>
-		  </child>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">True</property>
-		  <property name="fill">False</property>
-		</packing>
-	      </child>
-
-	      <child>
-		<widget class="GtkLabel" id="label69">
-		  <property name="visible">True</property>
-		  <property name="label" translatable="yes"></property>
-		  <property name="use_underline">False</property>
-		  <property name="use_markup">False</property>
-		  <property name="justify">GTK_JUSTIFY_LEFT</property>
-		  <property name="wrap">False</property>
-		  <property name="selectable">False</property>
-		  <property name="xalign">0.5</property>
-		  <property name="yalign">0.5</property>
-		  <property name="xpad">0</property>
-		  <property name="ypad">0</property>
-		</widget>
-		<packing>
-		  <property name="padding">0</property>
-		  <property name="expand">True</property>
-		  <property name="fill">True</property>
-		</packing>
-	      </child>
-	    </widget>
-	    <packing>
-	      <property name="tab_expand">False</property>
-	      <property name="tab_fill">True</property>
-	    </packing>
-	  </child>
-
-	  <child>
-	    <widget class="GtkLabel" id="restart_tab_label">
-	      <property name="visible">True</property>
-	      <property name="label" translatable="yes">Restart</property>
-	      <property name="use_underline">False</property>
-	      <property name="use_markup">False</property>
-	      <property name="justify">GTK_JUSTIFY_LEFT</property>
-	      <property name="wrap">False</property>
-	      <property name="selectable">False</property>
-	      <property name="xalign">0.5</property>
-	      <property name="yalign">0.5</property>
-	      <property name="xpad">0</property>
-	      <property name="ypad">0</property>
-	    </widget>
-	    <packing>
-	      <property name="type">tab</property>
-	    </packing>
-	  </child>
-	</widget>
-	<packing>
-	  <property name="padding">0</property>
-	  <property name="expand">True</property>
-	  <property name="fill">True</property>
-	</packing>
-      </child>
-    </widget>
-  </child>
-</widget>
-
+  <widget class="GtkDialog" id="network_status_dialog">
+    <property name="border_width">5</property>
+    <property name="resizable">False</property>
+    <property name="window_position">GTK_WIN_POS_CENTER</property>
+    <property name="default_width">300</property>
+    <property name="type_hint">GDK_WINDOW_TYPE_HINT_NORMAL</property>
+    <property name="has_separator">False</property>
+    <child internal-child="vbox">
+      <widget class="GtkVBox" id="dialog-vbox2">
+        <property name="visible">True</property>
+        <property name="spacing">2</property>
+        <child>
+          <widget class="GtkNotebook" id="notebook1">
+            <property name="visible">True</property>
+            <property name="can_focus">True</property>
+            <property name="border_width">5</property>
+            <child>
+              <widget class="GtkVBox" id="vbox1">
+                <property name="visible">True</property>
+                <property name="border_width">12</property>
+                <property name="spacing">18</property>
+                <child>
+                  <widget class="GtkVBox" id="connection_frame">
+                    <property name="visible">True</property>
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="label3">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">&lt;b&gt;Connection&lt;/b&gt;</property>
+                        <property name="use_markup">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkHBox" id="hbox6">
+                        <property name="visible">True</property>
+                        <child>
+                          <widget class="GtkLabel" id="label43">
+                            <property name="visible">True</property>
+                            <property name="label" translatable="yes">    </property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkHBox" id="connection_hbox">
+                            <property name="visible">True</property>
+                            <property name="spacing">12</property>
+                            <child>
+                              <widget class="GtkTable" id="connection_table">
+                                <property name="visible">True</property>
+                                <property name="n_rows">3</property>
+                                <property name="n_columns">2</property>
+                                <property name="column_spacing">12</property>
+                                <property name="row_spacing">6</property>
+                                <child>
+                                  <widget class="GtkComboBoxEntry" id="name_combo_box_entry">
+                                    <property name="visible">True</property>
+                                    <property name="add_tearoffs">False</property>
+                                    <property name="has_frame">True</property>
+                                    <property name="focus_on_click">True</property>
+                                    <property name="items"> </property>
+                                  </widget>
+                                  <packing>
+                                    <property name="left_attach">1</property>
+                                    <property name="right_attach">2</property>
+                                  </packing>
+                                </child>
+                                <child>
+                                  <placeholder/>
+                                </child>
+                                <child>
+                                  <widget class="GtkCheckButton" id="track_active_interface">
+                                    <property name="visible">True</property>
+                                    <property name="can_focus">True</property>
+                                    <property name="label" translatable="yes">_Track system active interface</property>
+                                    <property name="use_underline">True</property>
+                                    <property name="response_id">0</property>
+                                    <property name="draw_indicator">True</property>
+                                  </widget>
+                                  <packing>
+                                    <property name="left_attach">1</property>
+                                    <property name="right_attach">2</property>
+                                    <property name="top_attach">2</property>
+                                    <property name="bottom_attach">3</property>
+                                  </packing>
+                                </child>
+                                <child>
+                                  <widget class="GtkLabel" id="label5">
+                                    <property name="visible">True</property>
+                                    <property name="xalign">0</property>
+                                    <property name="label" translatable="yes">Status:</property>
+                                  </widget>
+                                  <packing>
+                                    <property name="top_attach">1</property>
+                                    <property name="bottom_attach">2</property>
+                                    <property name="x_options">GTK_FILL</property>
+                                    <property name="y_options"></property>
+                                  </packing>
+                                </child>
+                                <child>
+                                  <widget class="GtkLabel" id="status_label">
+                                    <property name="visible">True</property>
+                                    <property name="can_focus">True</property>
+                                    <property name="xalign">0</property>
+                                    <property name="selectable">True</property>
+                                  </widget>
+                                  <packing>
+                                    <property name="left_attach">1</property>
+                                    <property name="right_attach">2</property>
+                                    <property name="top_attach">1</property>
+                                    <property name="bottom_attach">2</property>
+                                    <property name="x_options">GTK_FILL</property>
+                                    <property name="y_options"></property>
+                                  </packing>
+                                </child>
+                                <child>
+                                  <widget class="GtkLabel" id="label16">
+                                    <property name="visible">True</property>
+                                    <property name="xalign">0</property>
+                                    <property name="label" translatable="yes">_Name:</property>
+                                    <property name="use_underline">True</property>
+                                  </widget>
+                                  <packing>
+                                    <property name="x_options">GTK_FILL</property>
+                                    <property name="y_options"></property>
+                                  </packing>
+                                </child>
+                              </widget>
+                            </child>
+                            <child>
+                              <placeholder/>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkVBox" id="activity_frame">
+                    <property name="visible">True</property>
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="label4">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">&lt;b&gt;Activity&lt;/b&gt;</property>
+                        <property name="use_markup">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkHBox" id="hbox8">
+                        <property name="visible">True</property>
+                        <child>
+                          <widget class="GtkLabel" id="label44">
+                            <property name="visible">True</property>
+                            <property name="label" translatable="yes">    </property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkTable" id="table2">
+                            <property name="visible">True</property>
+                            <property name="n_rows">2</property>
+                            <property name="n_columns">2</property>
+                            <property name="column_spacing">12</property>
+                            <property name="row_spacing">6</property>
+                            <child>
+                              <widget class="GtkLabel" id="received_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="sent_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="label11">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Received:</property>
+                              </widget>
+                              <packing>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="label12">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Sent:</property>
+                                <property name="width_chars">2</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                    <property name="position">1</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkVBox" id="signal_strength_frame">
+                    <property name="visible">True</property>
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="label48">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">&lt;b&gt;Wireless&lt;/b&gt;</property>
+                        <property name="use_markup">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkTable" id="table1">
+                        <property name="visible">True</property>
+                        <property name="n_rows">6</property>
+                        <property name="n_columns">2</property>
+                        <property name="column_spacing">12</property>
+                        <property name="row_spacing">6</property>
+                        <child>
+                          <widget class="GtkLabel" id="essid_value_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="selectable">True</property>
+                          </widget>
+                          <packing>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="bssid_value_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="selectable">True</property>
+                          </widget>
+                          <packing>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="bssid_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Access Point (BSSID):</property>
+                            <property name="justify">GTK_JUSTIFY_RIGHT</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
+                            <property name="x_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="essid_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Network Name (ESSID):</property>
+                            <property name="justify">GTK_JUSTIFY_RIGHT</property>
+                          </widget>
+                          <packing>
+                            <property name="x_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="label6">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Signal Strength:</property>
+                            <property name="ellipsize">PANGO_ELLIPSIZE_MIDDLE</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
+                            <property name="x_options">GTK_FILL</property>
+                            <property name="y_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="auth_mode_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="yalign">0.49000000953674316</property>
+                            <property name="label" translatable="yes">Authentication Mode:</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="security_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Security:</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
+                            <property name="x_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkHBox" id="hbox15">
+                            <property name="visible">True</property>
+                            <property name="spacing">6</property>
+                            <child>
+                              <widget class="GtkProgressBar" id="signal_strength_bar">
+                                <property name="visible">True</property>
+                              </widget>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="signal_strength_label">
+                                <property name="visible">True</property>
+                                <property name="label" translatable="yes">0%</property>
+                              </widget>
+                              <packing>
+                                <property name="expand">False</property>
+                                <property name="position">1</property>
+                              </packing>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="auth_mode_value_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="selectable">True</property>
+                          </widget>
+                          <packing>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="security_value_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="selectable">True</property>
+                          </widget>
+                          <packing>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="bss_mode_value_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="selectable">True</property>
+                          </widget>
+                          <packing>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="bss_mode_label">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Operational Mode (BSS):</property>
+                            <property name="justify">GTK_JUSTIFY_RIGHT</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
+                            <property name="x_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                    <property name="position">2</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkCheckButton" id="configure_net_auto_cb">
+                    <property name="visible">True</property>
+                    <property name="can_focus">True</property>
+                    <property name="label" translatable="yes">Configure network _automatically</property>
+                    <property name="use_underline">True</property>
+                    <property name="response_id">0</property>
+                    <property name="active">True</property>
+                    <property name="draw_indicator">True</property>
+                  </widget>
+                  <packing>
+                    <property name="position">3</property>
+                  </packing>
+                </child>
+              </widget>
+            </child>
+            <child>
+              <widget class="GtkLabel" id="label1">
+                <property name="visible">True</property>
+                <property name="label" translatable="yes">General</property>
+              </widget>
+              <packing>
+                <property name="type">tab</property>
+                <property name="tab_fill">False</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="GtkVBox" id="vbox2">
+                <property name="visible">True</property>
+                <property name="border_width">12</property>
+                <property name="spacing">18</property>
+                <child>
+                  <widget class="GtkVBox" id="inet4_frame">
+                    <property name="visible">True</property>
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="label25">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">&lt;b&gt;Internet Protocol (IPv4)&lt;/b&gt;</property>
+                        <property name="use_markup">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkHBox" id="hbox11">
+                        <property name="visible">True</property>
+                        <child>
+                          <widget class="GtkLabel" id="label45">
+                            <property name="visible">True</property>
+                            <property name="label" translatable="yes">    </property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkTable" id="inet4_table">
+                            <property name="visible">True</property>
+                            <property name="n_rows">4</property>
+                            <property name="n_columns">2</property>
+                            <property name="column_spacing">12</property>
+                            <property name="row_spacing">6</property>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_addr_title">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Address:</property>
+                              </widget>
+                              <packing>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_dest_title">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Destination:</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_bcast_title">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Broadcast:</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_mask_title">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Subnet Mask:</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_addr_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_dest_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_bcast_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet4_mask_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkVBox" id="inet6_frame">
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="label26">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">&lt;b&gt;Internet Protocol (IPv6)&lt;/b&gt;</property>
+                        <property name="use_markup">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkHBox" id="hbox12">
+                        <property name="visible">True</property>
+                        <child>
+                          <widget class="GtkLabel" id="label46">
+                            <property name="visible">True</property>
+                            <property name="label" translatable="yes">    </property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkTable" id="table5">
+                            <property name="visible">True</property>
+                            <property name="n_rows">2</property>
+                            <property name="n_columns">2</property>
+                            <property name="column_spacing">12</property>
+                            <property name="row_spacing">6</property>
+                            <child>
+                              <widget class="GtkLabel" id="label39">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Address:</property>
+                              </widget>
+                              <packing>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="label40">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Scope:</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet6_addr_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="inet6_scope_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                    <property name="position">1</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkVBox" id="dev_frame">
+                    <property name="visible">True</property>
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="dev_label">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">&lt;b&gt;Network Device&lt;/b&gt;</property>
+                        <property name="use_markup">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkHBox" id="hbox13">
+                        <property name="visible">True</property>
+                        <child>
+                          <widget class="GtkLabel" id="label47">
+                            <property name="visible">True</property>
+                            <property name="label" translatable="yes">    </property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkTable" id="table6">
+                            <property name="visible">True</property>
+                            <property name="n_rows">2</property>
+                            <property name="n_columns">2</property>
+                            <property name="column_spacing">12</property>
+                            <property name="row_spacing">6</property>
+                            <child>
+                              <widget class="GtkLabel" id="dev_addr_title">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Address:</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="dev_addr_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="dev_type_label">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="xalign">0</property>
+                                <property name="selectable">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="dev_type_title">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Type:</property>
+                              </widget>
+                              <packing>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                    <property name="position">2</property>
+                  </packing>
+                </child>
+              </widget>
+              <packing>
+                <property name="position">1</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="GtkLabel" id="label2">
+                <property name="visible">True</property>
+                <property name="label" translatable="yes">Support</property>
+              </widget>
+              <packing>
+                <property name="type">tab</property>
+                <property name="position">1</property>
+                <property name="tab_fill">False</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="GtkVBox" id="vbox3">
+                <property name="visible">True</property>
+                <property name="border_width">12</property>
+                <property name="spacing">18</property>
+                <child>
+                  <widget class="GtkVBox" id="vbox5">
+                    <property name="visible">True</property>
+                    <property name="spacing">6</property>
+                    <child>
+                      <widget class="GtkLabel" id="label59">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">You may need to restart ths connection if you want to connect to a different network, or if you are experiencing connection problems.</property>
+                        <property name="wrap">True</property>
+                      </widget>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="expand">False</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkHBox" id="restart_hbox">
+                    <property name="visible">True</property>
+                    <child>
+                      <widget class="GtkLabel" id="label65">
+                        <property name="visible">True</property>
+                      </widget>
+                    </child>
+                    <child>
+                      <widget class="GtkVBox" id="vbox6">
+                        <property name="visible">True</property>
+                        <child>
+                          <widget class="GtkButton" id="restart_button">
+                            <property name="visible">True</property>
+                            <property name="can_focus">True</property>
+                            <property name="response_id">0</property>
+                            <child>
+                              <widget class="GtkAlignment" id="alignment3">
+                                <property name="visible">True</property>
+                                <property name="xscale">0</property>
+                                <property name="yscale">0</property>
+                                <child>
+                                  <widget class="GtkHBox" id="hbox1">
+                                    <property name="visible">True</property>
+                                    <property name="spacing">2</property>
+                                    <child>
+                                      <widget class="GtkImage" id="restart_button_image">
+                                        <property name="visible">True</property>
+                                        <property name="stock">gtk-refresh</property>
+                                      </widget>
+                                      <packing>
+                                        <property name="expand">False</property>
+                                        <property name="fill">False</property>
+                                      </packing>
+                                    </child>
+                                    <child>
+                                      <widget class="GtkLabel" id="restart_button_label">
+                                        <property name="visible">True</property>
+                                        <property name="label" translatable="yes">_Restart</property>
+                                        <property name="use_underline">True</property>
+                                      </widget>
+                                      <packing>
+                                        <property name="expand">False</property>
+                                        <property name="fill">False</property>
+                                        <property name="position">1</property>
+                                      </packing>
+                                    </child>
+                                  </widget>
+                                </child>
+                              </widget>
+                            </child>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="label70">
+                            <property name="visible">True</property>
+                          </widget>
+                          <packing>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                  </widget>
+                  <packing>
+                    <property name="fill">False</property>
+                    <property name="position">1</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkLabel" id="label69">
+                    <property name="visible">True</property>
+                  </widget>
+                  <packing>
+                    <property name="position">2</property>
+                  </packing>
+                </child>
+              </widget>
+              <packing>
+                <property name="position">2</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="GtkLabel" id="restart_tab_label">
+                <property name="visible">True</property>
+                <property name="label" translatable="yes">Restart</property>
+              </widget>
+              <packing>
+                <property name="type">tab</property>
+                <property name="position">2</property>
+                <property name="tab_fill">False</property>
+              </packing>
+            </child>
+          </widget>
+          <packing>
+            <property name="position">1</property>
+          </packing>
+        </child>
+        <child internal-child="action_area">
+          <widget class="GtkHButtonBox" id="dialog-action_area2">
+            <property name="visible">True</property>
+            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <child>
+              <widget class="GtkButton" id="helpbutton1">
+                <property name="visible">True</property>
+                <property name="can_focus">True</property>
+                <property name="can_default">True</property>
+                <property name="has_default">True</property>
+                <property name="label">gtk-help</property>
+                <property name="use_stock">True</property>
+                <property name="response_id">-11</property>
+              </widget>
+            </child>
+            <child>
+              <widget class="GtkButton" id="configure_button">
+                <property name="visible">True</property>
+                <property name="can_focus">True</property>
+                <property name="can_default">True</property>
+                <property name="response_id">0</property>
+                <child>
+                  <widget class="GtkAlignment" id="alignment2">
+                    <property name="visible">True</property>
+                    <property name="xscale">0</property>
+                    <property name="yscale">0</property>
+                    <child>
+                      <widget class="GtkHBox" id="hbox5">
+                        <property name="visible">True</property>
+                        <property name="spacing">2</property>
+                        <child>
+                          <widget class="GtkImage" id="image2">
+                            <property name="visible">True</property>
+                            <property name="stock">gtk-preferences</property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="label42">
+                            <property name="visible">True</property>
+                            <property name="label" translatable="yes">Con_figure</property>
+                            <property name="use_underline">True</property>
+                          </widget>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">False</property>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </widget>
+                    </child>
+                  </widget>
+                </child>
+              </widget>
+              <packing>
+                <property name="position">1</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="GtkButton" id="close_button">
+                <property name="visible">True</property>
+                <property name="can_focus">True</property>
+                <property name="can_default">True</property>
+                <property name="has_default">True</property>
+                <property name="label">gtk-close</property>
+                <property name="use_stock">True</property>
+                <property name="response_id">-7</property>
+              </widget>
+              <packing>
+                <property name="position">2</property>
+              </packing>
+            </child>
+          </widget>
+          <packing>
+            <property name="expand">False</property>
+            <property name="pack_type">GTK_PACK_END</property>
+          </packing>
+        </child>
+      </widget>
+    </child>
+  </widget>
 </glade-interface>

